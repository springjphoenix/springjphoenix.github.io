webpackJsonp([0x7b71d9db271c],{627:function(n,a){n.exports={data:{site:{siteMetadata:{title:"Magicly's Blog"}},allMarkdownRemark:{edges:[{node:{html:'<p>最近用Go写代码，在VSCode下安装了vscodego插件， 语法高亮、代码提示、代码跳转、错误提示等都支持， 完美！</p>\n<p>不知道哪天突然发现没有代码提示了， 只有提示”PANIC”。。。。。</p>\n<p>经过google， 发现代码提示用的是<a href="https://github.com/nsf/gocode">gocode</a>，也<a href="https://tonybai.com/2016/12/23/write-go-code-in-vscode/">有人遇到过</a>，手动重启gocode即可。</p>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">gocode close\ngocode -s</code></pre>\n      </div>\n<p>执行之后还是不行， 有报错：</p>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">panic: unknown <span class="token function">export</span> <span class="token function">format</span> version 5 <span class="token punctuation">(</span><span class="token string">"version 5"</span><span class="token punctuation">)</span></code></pre>\n      </div>\n<p>拿去google， 找到gocode里的<a href="https://github.com/nsf/gocode/issues/456">issues</a>， 提示说可以升级gocode：</p>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">go get -u -v github.com/nsf/gocode\n``<span class="token variable"><span class="token variable">`</span>\n再重启， 一起ok了！\n\nPS， 发现升级之后其实vscode在遇到go代码并且你需要代码提示（按了.）的时候如果没有检测到gocode daemon进程，会自动帮你启动gocode的。会启动一个进程监听<span class="token variable">`</span></span>127.0.0.1:37373`端口。</code></pre>\n      </div>',timeToRead:1,excerpt:"最近用Go写代码，在VSCode下安装了vscodego插件， 语法高亮、代码提示、代码跳转、错误提示等都支持， 完美！ 不知道哪天突然发现没有代码提示了， 只有提示”PANIC”。。。。。 经过google， 发现代码提示用的是 gocode…",fields:{slug:"/go-vscodego-no-tip/"},frontmatter:{title:"VSCode go插件代码提示失效",date:"2018-03-22",category:"Go",tags:["vscode","go","gocode"]}}},{node:{html:'<p>比特币去年大涨，各种新闻、技术论坛甚至身边的大叔大妈都在讨论比特币，火爆程度远超15年年初的股市。甚至直接带动各种山寨币、空气币大涨，似乎只要发个币都是几十、几百倍的增长，简直全民疯狂！</p>\n<p>这些请大家理智看待，冷静分析，合理投资，我不给其助威，也不泼冷水，仅从技术的角度来探讨一些问题。</p>\n<p>最早听说比特币是在11年，然后去年下半年才开始系统地了解区块链相关的技术，打算接下来整理一下这方面的知识，希望对大家有所帮助。 市面上也有很多文章书籍甚至课程来讲授比特币或者区块链技术的，所以我不会面面俱到，尽可能挑一些自己感兴趣的话题来写。推荐一些区块链相关的学习资料，<a href="https://magicly.me/blockchain-materials">https://magicly.me/blockchain-materials</a> 。</p>\n<!-- more -->\n<p>可能大部分人都已经知道比特币是通过“挖矿”凭空产生的，挖矿就是不停地做hash计算，当找到某个值刚好满足条件，就算挖出矿了， 就会得到一部分比特币作为奖励。 基本上挖出比特币的概率，等于你自己的算力（用每秒能做多少次hash计算来衡量）占全球参与挖矿的算力的百分比。 简单来说，如果全球每秒能做100次hash运算，你每秒能做1次hash运算，那你挖到比特币的概率就是1%。</p>\n<p>最早的时候大家用CPU挖矿，后来发现GPU会快很多，最后干脆有人把hash算法集成到了芯片上（即ASIC，Application-specific integrated circuit），算力再次暴涨。下图可以看出这两年算力的增长情况（来源：<a href="https://blockchain.info/charts/hash-rate?timespan=2years%EF%BC%89%EF%BC%9A">https://blockchain.info/charts/hash-rate?timespan=2years）：</a>\n<img src="/blogimgs/blockchain/hash-rate.png" alt="hash算力增长图标"></p>\n<p>通过<a href="https://blockexplorer.com/api/status?q=getDifficulty">https://blockexplorer.com/api/status?q=getDifficulty</a> 这个接口可以获取到当前算力的“难度”，目前为：</p>\n<div class="gatsby-highlight">\n      <pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>\n  <span class="token property">"difficulty"</span><span class="token operator">:</span> <span class="token number">3290605988755.001</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<p>根据比特币挖矿机制，每10分钟产生一个区块需要的算力公式为：</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js">  difficulty <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">**</span> <span class="token number">32</span> <span class="token operator">/</span> <span class="token number">600</span> <span class="token comment">// 23555072455973170000， 即20921P/s</span></code></pre>\n      </div>\n<p>即当前算力大概在每秒20921P次hash运算才能在10分钟内记账一次，得到12.5个BTC。号称当前最快的蚂蚁矿机S9，算力是13.5T，也就是说全网大概有20921 * 2 ** 10 / 13.5 = 1586896， 相当于全网大概有160万台S9在运行。</p>\n<p>每10分钟出一次块， 一天能出<code class="language-text">24 * 6 == 144</code>块，据说一个S9能正常运行两年，如果不考虑这两年的算力增长（基本不可能，16年到现在算力增长了接近20倍），大概在这两年你能有多大的机会挖中一次呢：</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token number">13.5</span> <span class="token operator">/</span> <span class="token punctuation">(</span><span class="token number">20921</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token operator">**</span> <span class="token number">10</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">144</span> <span class="token operator">*</span> <span class="token number">365</span> <span class="token operator">*</span> <span class="token number">2</span> <span class="token comment">//0.0662 </span></code></pre>\n      </div>\n<p>而目前一块的奖励是12.5BTC，也就是说你的期望是<code class="language-text">0.0662 * 12.5 == 0.8280</code>个BTC。刚刚在火币网上查的目前BTC价格是52000rmb不到，也就是期望获得<code class="language-text">0.8280 * 52000 == 43057</code>的回报。矿机本身15000，S9的功耗是1320w， 两年用电<code class="language-text">1.32 * 24 * 365 * 2 === 23126.4</code>度，所以能不能赚，基本上取决于你能找到多便宜的电了。</p>\n<p>注意，我们的计算比较简单，只是给大家一个直观的感受，以及大概计算方式，并没有考虑算力的增长以及BTC价格的增长，所以我们不做建议。网上有很多更复杂的计算，并根据结果建议怎么挖矿的， 大家自行搜索即可，本文不做任何投资建议。</p>\n<p>另外，根据BTC的协议，目前挖出一块是12.5BTC，也就是说如果你“自己”挖的话，要么挖中一块是12.5BTC，要么不中就啥也没有，根本不存在所谓的<code class="language-text">在家挖了一个月，挖到0.00001BTC，连电费都不够</code>这种说法。 当然，由于现在算力太多，出现了“矿池”，即大家合作来一起挖，挖中一块，再根据大家贡献的算力百分比来分，这种情况才可能有挖到零点几个BTC的说法。</p>\n<h1 id="单位换算"><a href="#%E5%8D%95%E4%BD%8D%E6%8D%A2%E7%AE%97" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>单位换算</h1>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token number">1</span>P <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">**</span> <span class="token number">50</span> <span class="token operator">~</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span> <span class="token comment">// 千万亿</span>\n\n<span class="token number">1</span>T <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">**</span> <span class="token number">40</span> <span class="token operator">~</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span> <span class="token comment">// 万亿</span>\n\n<span class="token number">1</span>G <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">**</span> <span class="token number">30</span> <span class="token operator">~</span><span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span><span class="token punctuation">,</span><span class="token number">000</span>  <span class="token comment">// 十亿</span>\n\n<span class="token number">1</span>M <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">**</span> <span class="token number">20</span> <span class="token operator">~</span><span class="token operator">=</span> <span class="token number">1000</span><span class="token punctuation">,</span><span class="token number">000</span> <span class="token comment">// 一百万</span>\n\n<span class="token number">1</span>K <span class="token operator">=</span> <span class="token number">2</span> <span class="token operator">**</span> <span class="token number">10</span> <span class="token operator">~</span><span class="token operator">=</span> <span class="token number">1000</span> <span class="token comment">// 一千</span></code></pre>\n      </div>\n<h1 id="参考资料"><a href="#%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>参考资料</h1>\n<ul>\n<li><a href="http://shop.bitmain.com/productDetail.htm?pid=00020180301152028259U755GVmt0665">蚂蚁矿机S9 13.5T</a></li>\n<li><a href="https://en.bitcoin.it/wiki/Difficulty">https://en.bitcoin.it/wiki/Difficulty</a></li>\n<li><a href="https://bitcoin.stackexchange.com/questions/5838/how-is-difficulty-calculated">https://bitcoin.stackexchange.com/questions/5838/how-is-difficulty-calculated</a></li>\n<li><a href="https://blockchain.info/charts/hash-rate?timespan=2years">全网Hash算力</a></li>\n</ul>',timeToRead:2,excerpt:"比特币去年大涨，各种新闻、技术论坛甚至身边的大叔大妈都在讨论比特币，火爆程度远超1…",fields:{slug:"/blockchain-btc-mining/"},frontmatter:{title:"区块链系列一：现在挖比特币有多难",date:"2018-03-17",category:"Blockchain",tags:["BTC","bitcoin","比特币"]}}},{node:{html:'<p>已经太多次听到这样的言论：“XXXX是个伪命题”， 也太多次看到这样的标题：“为什么说XXX是个伪命题？”。 绝大多数时候使用者其实都没明白“伪命题”一词的含义， 一部分是把它跟“假命题”混淆了， 一部分人纯粹就是为了装13。</p>\n<p>每次听到这样的话， 我都起一身鸡皮疙瘩。最近区块链火的不行，到处都能看到相关文章，似乎一夜之间很多人都成了区块链专家。今天看到一篇，“区块链是个伪命题”， 还有一篇“为什么说区块链的去中心化是个伪命题？”。大哥， 你这就好比说，“鸡蛋是个伪命题”， “为什么说鸡蛋的蛋壳是个伪命题”一样， 听了自己不会觉得奇怪的么？</p>\n<!-- more -->\n<p>在我印象中， “伪命题”表示的是“没办法证伪的命题”， 英文是pseudo proposition。 而命题是一个陈述句，用于说明某种事实，如果这事实为真，则叫真命题(True proposition)，如果为假，则为假命题(False proposition)。比如“5 > 3”是真命题，“3 > 5”则是一个假命题。而如果说”X > 5”，因为你不知道X到底是啥，所以这个命题既有可能是真， 也有可能是假，没办法判断，所以是“伪命题”。 所以我们说一个东西是“伪命题”，至少得这个东西是一个完整的陈述句啊！“区块链”是一句陈述句么？“鸡蛋的颜色”是一句陈述句么？</p>\n<p>上面只是我的想法，为了严谨， 我还是查一下资料吧。发现知乎上早就已经有人受不了，问过<a href="https://www.zhihu.com/question/20105937">「伪命题」一词是否被滥用了？</a>，我比较赞同下面这条回答：</p>\n<div style="background-color:yellow; color: #8590a6">\n离散数学经典教材<a href="https://book.douban.com/subject/1786209/">Discrete Mathematics and Its Applications</a>开篇第一章就对命题做出的如下的定义：\n<blockquote>\n<p>A proposition is a declarative sentence (that is, a sentence that declares a fact) that is either true or false, but not both.</p>\n</blockquote>\n<p>翻译过来就是：命题是一个非真即假的陈述语句，但绝不可能即真又假.</p>\n<p>然后又举了4个不是命题（也就是伪命题）的例子：</p>\n<blockquote>\n<ol>\n<li>What time is it?</li>\n<li>Read this carefully.</li>\n<li>x + 1 = 2.</li>\n<li>x + y = z.</li>\n</ol>\n</blockquote>\n<p>原因如下：</p>\n<blockquote>\n<p>1,2明显不是陈述语句。3,4因为它们既不是真的，也不是假的，也就是说我们无法判断</p>\n</blockquote>\n<p>作者：张斌斌\n链接：<a href="https://www.zhihu.com/question/20105937/answer/26284295">https://www.zhihu.com/question/20105937/answer/26284295</a>\n来源：知乎\n著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>\n</div>\n<p>在wiki上搜了一下， 没有查到“伪命题”，只查到<a href="https://en.wikipedia.org/wiki/Proposition">Proposition</a>：</p>\n<blockquote>\n<p>Often propositions are related to closed sentences to distinguish them from what is expressed by an open sentence. In this sense, propositions are “statements” that are truth-bearers. This conception of a proposition was supported by the philosophical school of logical positivism.</p>\n</blockquote>\n<p>也就是说，“命题”得是一句关于事实判断的完整的陈述句。</p>\n<p>百度百科的关于<a href="https://baike.baidu.com/item/%E4%BC%AA%E5%91%BD%E9%A2%98/7507754">伪命题</a>的解释：</p>\n<div style="background-color:yellow; color: #8590a6">\n<blockquote>\n<p>伪命题是指不真实的命题。所谓不真实，有两种情况：其一是不符合客观事实；其二是不符合一般事理和科学道理。 另一种解释是指没有意义的命题，无法断定其真假，既不是先天的分析命题，也不是可以通过经验判断的综合命题。比如，“团结比原子弹还厉害”，”凡事都有例外”这类命题就属于伪命题。</p>\n</blockquote>\n<blockquote>\n<p>外文名 False proposition</p>\n</blockquote>\n</div>\n可以看到，这里百度百科把“伪命题”当做是“假命题(False proposition)”，然后又包含了“无法断定其真假”的那部分。\n<p>ok， 现在我们来看一下为什么说<code class="language-text">“XXX是个伪命题”是个伪命题</code>。首先这句话的主语是“XXX是个伪命题”，这是一个完整的陈述句，但是它是命题么？不是！为啥，因为我们不知道<code class="language-text">XXX</code>是什么，所以这句话既有可能是真，也有可能是假。比如，<code class="language-text">XXX是&quot;3 &gt; 2&quot;</code>, 则“3 > 2是个伪命题”就是错的，即是“假命题False proposition”，如果<code class="language-text">XXX是x &gt; 2</code>， 则“x > 2是个伪命题”，就是对的，即是“真命题True proposition”。所以“XXX是个伪命题”，我们既不能判断是真，也不能判断是假，所以是个伪命题。也就是说<code class="language-text">“XXX是个伪命题”是个伪命题</code>，这句话本身是一个真命题！</p>\n<p>另外，我们可以看出，由于“伪”在中文里本身有“假”的意思，所以很多人将“伪命题”当成是“假命题”来用，这个我还尚可理解。但即使是这样，我们在说某个东西是“假命题”的时候， 前提也得是这个东西本身是个“命题”或者至少是个完整的陈述句啊。比如某人想说区块链的去中心化不是很NB， 可以说“区块链的去中心化很NB，这是个假命题”。或者你把“伪命题”当“假命题”用，说“区块链的去中心化很NB，这是个伪命题”，那也能勉强接受， 但不能说“区块链的去中心化是个假命题”，或者说“区块链的去中心化是个伪命题”啊。 甚至直接说“区块链是个伪命题”， 这是个啥意思嘛？</p>\n<p>简单来说，命题就好比是布尔类型，只能是True或False，你非得要把数字或字符串赋值给布尔类型， 那我们只能说不好意思，我们不支持自动类型转化， 编译失败！</p>\n<p>另外可参考下面的资料：</p>\n<ul>\n<li><a href="https://zh.wikipedia.org/wiki/%E5%8F%AF%E8%AF%81%E4%BC%AA%E6%80%A7">可证伪性</a></li>\n<li><a href="https://zh.wikipedia.org/wiki/%E4%BC%AA%E7%A7%91%E5%AD%A6">伪科学</a></li>\n</ul>',timeToRead:2,excerpt:"已经太多次听到这样的言论：“XXXX是个伪命题”， 也太多次看到这样的标题：“为什么说XXX是个伪命题？”。 绝大多数时候使用者其实都没明白“伪命题”一词的含义， 一部分是把它跟“假命题”混淆了， 一部分人纯粹就是为了装1…",fields:{slug:"/pseudo-proposition/"},frontmatter:{title:"为什么说“XXX是个伪命题”是个伪命题？",date:"2018-03-14",category:"Others",tags:["伪命题","逻辑"]}}},{node:{html:'<p><strong>持续更新，可以保持关注</strong></p>\n<p>区块链的一些学习资料:</p>\n<!-- more -->\n<h1 id="入门介绍"><a href="#%E5%85%A5%E9%97%A8%E4%BB%8B%E7%BB%8D" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>入门介绍</h1>\n<ul>\n<li><a href="http://blog.codinglabs.org/articles/bitcoin-mechanism-make-easy.html">一个故事告诉你比特币的原理及运作机制</a></li>\n</ul>\n<h1 id="密码学"><a href="#%E5%AF%86%E7%A0%81%E5%AD%A6" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>密码学</h1>\n<ul>\n<li><a href="https://www.coursera.org/learn/crypto">https://www.coursera.org/learn/crypto</a></li>\n</ul>\n<h1 id="btc"><a href="#btc" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>BTC</h1>\n<ul>\n<li>中本聪的创世论文<a href="https://bitcoin.org/bitcoin.pdf">Bitcoin: A Peer-to-Peer Electronic Cash System</a></li>\n<li><a href="https://bitcoin.org/en/">Bitcoin官网</a></li>\n<li><a href="http://bitcoinbook.cs.princeton.edu/">Bitcoin and Cryptocurrency Technologies</a> <a href="https://www.coursera.org/learn/cryptocurrency/home/welcome">Coursera上课程</a> <a href="https://piazza.com/princeton/spring2015/btctech/home">课程资料</a></li>\n<li><a href="https://github.com/bitcoinbook/bitcoinbook">Mastering Bitcoin 2nd Edition</a></li>\n<li><a href="https://bitcoinbook.info/wp-content/translations/cmn/book.pdf">精通比特币中文版</a>, <a href="http://book.8btc.com/master_bitcoin">文在线版</a> </li>\n</ul>\n<h1 id="ethereum"><a href="#ethereum" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Ethereum</h1>\n<ul>\n<li><a href="https://www.ethereum.org/">https://www.ethereum.org/</a></li>\n<li><a href="http://www.ethdocs.org/">http://www.ethdocs.org/</a></li>\n<li><a href="https://github.com/ethereum/go-ethereum/wiki">https://github.com/ethereum/go-ethereum/wiki</a></li>\n<li><a href="https://solidity.readthedocs.io/">https://solidity.readthedocs.io/</a></li>\n<li><a href="https://web3js.readthedocs.io">https://web3js.readthedocs.io</a></li>\n<li><a href="https://github.com/trufflesuite/truffle">https://github.com/trufflesuite/truffle</a></li>\n<li><a href="http://truffle.tryblockchain.org/">http://truffle.tryblockchain.org/</a></li>\n<li><a href="http://ethfans.org/topics/227">以太坊代码剖析</a></li>\n</ul>\n<h1 id="hyperledger"><a href="#hyperledger" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Hyperledger</h1>\n<ul>\n<li><a href="https://www.ibm.com/blockchain/cn-zh/hyperledger.html">基于 Linux 基金会的 Hyperledger Fabric</a></li>\n</ul>\n<h1 id="其他"><a href="#%E5%85%B6%E4%BB%96" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>其他</h1>\n<ul>\n<li><a href="https://github.com/llSourcell/Learn_Blockchain_in_2_months">“Learn Blockchain in 2 Months” by Siraj Raval</a>, <a href="https://www.youtube.com/watch?v=wVVGv2bmxow">Youtube视频</a></li>\n<li><a href="https://github.com/btcsuite">Bitcoin in Go</a></li>\n<li><a href="https://github.com/zcash/zcash">Zcash</a></li>\n<li><a href="https://www.youtube.com/watch?v=lUiKpNU2Tx4">Bitcoin NodeJS Part 1 - Hello World</a></li>\n<li><a href="https://github.com/chaozh/awesome-blockchain">Awesome Blockchain</a></li>\n<li>\n<p>NodeJS Bitcoin</p>\n<ul>\n<li><a href="https://github.com/bitcoinjs/bitcoinjs-lib">https://github.com/bitcoinjs/bitcoinjs-lib</a></li>\n<li><a href="https://en.bitcoin.it/wiki/Node.js_Example">https://en.bitcoin.it/wiki/Node.js_Example</a></li>\n<li><a href="https://en.bitcoin.it/wiki/Original_Bitcoin_client/API_calls_list">https://en.bitcoin.it/wiki/Original<em>Bitcoin</em>client/API<em>calls</em>list</a></li>\n<li><a href="https://bitcore.io/">https://bitcore.io/</a></li>\n<li><a href="https://github.com/bitpay/bitcore">https://github.com/bitpay/bitcore</a></li>\n<li><a href="https://github.com/ruimarinho/bitcoin-core">https://github.com/ruimarinho/bitcoin-core</a></li>\n</ul>\n</li>\n</ul>',timeToRead:2,excerpt:"持续更新，可以保持关注 区块链的一些学习资料: 入门介绍 一个故事告诉你比特币的原理及运作机制 密码学 https://www.coursera.org/learn/crypto BTC 中本聪的创世论文 Bitcoin: A Peer-to-Peer Electronic…",fields:{slug:"/blockchain-materials/"},frontmatter:{title:"区块链学习资料",date:"2018-03-06",category:"FE",tags:["typescript","ts"]}}},{node:{html:'<p>TS的简介或者说学习笔记吧，主要留给自己查阅。</p>\n<!-- more -->\n<h1 id="在线工具"><a href="#%E5%9C%A8%E7%BA%BF%E5%B7%A5%E5%85%B7" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>在线工具</h1>\n<p><a href="https://www.typescriptlang.org/play/index.html">https://www.typescriptlang.org/play/index.html</a></p>\n<h1 id="基本数据类型basic-types"><a href="#%E5%9F%BA%E6%9C%AC%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8Bbasic-types" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>基本数据类型Basic Types</h1>\n<h2 id="boolean"><a href="#boolean" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Boolean</h2>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">let</span> isDone<span class="token punctuation">:</span> boolean <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<h2 id="number"><a href="#number" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Number</h2>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">let</span> decimal<span class="token punctuation">:</span> number <span class="token operator">=</span> <span class="token number">6</span><span class="token punctuation">;</span>\n<span class="token keyword">let</span> hex<span class="token punctuation">:</span> number <span class="token operator">=</span> <span class="token number">0xf00d</span><span class="token punctuation">;</span>\n<span class="token keyword">let</span> binary<span class="token punctuation">:</span> number <span class="token operator">=</span> <span class="token number">0b1010</span><span class="token punctuation">;</span>\n<span class="token keyword">let</span> octal<span class="token punctuation">:</span> number <span class="token operator">=</span> <span class="token number">0o744</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<h2 id="string"><a href="#string" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>String</h2>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">let</span> color<span class="token punctuation">:</span> string <span class="token operator">=</span> <span class="token string">"blue"</span><span class="token punctuation">;</span>\ncolor <span class="token operator">=</span> <span class="token string">\'red\'</span><span class="token punctuation">;</span>\n<span class="token keyword">let</span> sentence<span class="token punctuation">:</span> string <span class="token operator">=</span> `Hello<span class="token punctuation">,</span> my name is $<span class="token punctuation">{</span> fullName <span class="token punctuation">}</span><span class="token punctuation">.</span></code></pre>\n      </div>\n<h2 id="array"><a href="#array" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Array</h2>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">let</span> list<span class="token punctuation">:</span> number<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token keyword">let</span> list<span class="token punctuation">:</span> Array<span class="token operator">&lt;</span>number<span class="token operator">></span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<h2 id="tuple"><a href="#tuple" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Tuple</h2>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token comment">// Declare a tuple type</span>\n<span class="token keyword">let</span> x<span class="token punctuation">:</span> <span class="token punctuation">[</span>string<span class="token punctuation">,</span> number<span class="token punctuation">]</span><span class="token punctuation">;</span>\n<span class="token comment">// Initialize it</span>\nx <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">"hello"</span><span class="token punctuation">,</span> <span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// OK</span>\n<span class="token comment">// Initialize it incorrectly</span>\nx <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token string">"hello"</span><span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// Error</span>\n\n<span class="token comment">// When accessing an element outside the set of known indices, a union type is used instead:</span>\nx<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"world"</span><span class="token punctuation">;</span> <span class="token comment">// OK, \'string\' can be assigned to \'string | number\'</span>\n\nconsole<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>x<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// OK, \'string\' and \'number\' both have \'toString\'</span>\n\nx<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token comment">// Error, \'boolean\' isn\'t \'string | number\'</span></code></pre>\n      </div>\n<h2 id="enum"><a href="#enum" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Enum</h2>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">enum</span> Color <span class="token punctuation">{</span>Red <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> Green <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">,</span> Blue <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">}</span>\n<span class="token keyword">let</span> c<span class="token punctuation">:</span> Color <span class="token operator">=</span> Color<span class="token punctuation">.</span>Green<span class="token punctuation">;</span>\n\n<span class="token keyword">let</span> colorName<span class="token punctuation">:</span> string <span class="token operator">=</span> Color<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>\n\n<span class="token function">alert</span><span class="token punctuation">(</span>colorName<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Displays \'Green\' as its value is 2 above</span></code></pre>\n      </div>\n<h2 id="any"><a href="#any" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Any</h2>\n<p>任意类型， 兼容JS的动态类型。</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">let</span> notSure<span class="token punctuation">:</span> any <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>\nnotSure<span class="token punctuation">.</span><span class="token function">ifItExists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// okay, ifItExists might exist at runtime</span>\nnotSure<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// okay, toFixed exists (but the compiler doesn\'t check)</span>\n\n<span class="token keyword">let</span> prettySure<span class="token punctuation">:</span> Object <span class="token operator">=</span> <span class="token number">4</span><span class="token punctuation">;</span>\nprettySure<span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Error: Property \'toFixed\' doesn\'t exist on type \'Object\'.</span></code></pre>\n      </div>\n<h2 id="void"><a href="#void" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Void</h2>\n<p>没有明确的<code class="language-text">return</code>。 Declaring variables of type void is not useful because you can only assign undefined or null to them.</p>\n<h2 id="null-and-undefined"><a href="#null-and-undefined" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Null and Undefined</h2>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token comment">// Not much else we can assign to these variables!</span>\n<span class="token keyword">let</span> u<span class="token punctuation">:</span> undefined <span class="token operator">=</span> undefined<span class="token punctuation">;</span>\n<span class="token keyword">let</span> n<span class="token punctuation">:</span> <span class="token keyword">null</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<p><code class="language-text">--strictNullChecks</code></p>\n<h2 id="never"><a href="#never" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Never</h2>\n<p>抛异常。</p>\n<blockquote>\n<p>The never type is a subtype of, and assignable to, every type; however, no type is a subtype of, or assignable to, never (except never itself). Even any isn’t assignable to never.</p>\n</blockquote>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token comment">// Function returning never must have unreachable end point</span>\n<span class="token keyword">function</span> <span class="token function">error</span><span class="token punctuation">(</span>message<span class="token punctuation">:</span> string<span class="token punctuation">)</span><span class="token punctuation">:</span> never <span class="token punctuation">{</span>\n    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>message<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// Inferred return type is never</span>\n<span class="token keyword">function</span> <span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">return</span> <span class="token function">error</span><span class="token punctuation">(</span><span class="token string">"Something failed"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token comment">// Function returning never must have unreachable end point</span>\n<span class="token keyword">function</span> <span class="token function">infiniteLoop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">:</span> never <span class="token punctuation">{</span>\n    <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<h2 id="type-assertions"><a href="#type-assertions" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Type assertions</h2>\n<p>你知道的比编译器多。</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">let</span> someValue<span class="token punctuation">:</span> any <span class="token operator">=</span> <span class="token string">"this is a string"</span><span class="token punctuation">;</span>\n\n<span class="token keyword">let</span> strLength<span class="token punctuation">:</span> number <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>string<span class="token operator">></span>someValue<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>\n\n<span class="token comment">// or</span>\n<span class="token keyword">let</span> strLength<span class="token punctuation">:</span> number <span class="token operator">=</span> <span class="token punctuation">(</span>someValue <span class="token keyword">as</span> string<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span></code></pre>\n      </div>\n<p>在<code class="language-text">JSX</code>里面只能用<code class="language-text">as</code>，因为<code class="language-text">&lt;&gt;</code>在JSX里有特殊含义。</p>\n<h1 id="高级类型advanced-types"><a href="#%E9%AB%98%E7%BA%A7%E7%B1%BB%E5%9E%8Badvanced-types" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>高级类型Advanced Types</h1>\n<h2 id="intersection-types"><a href="#intersection-types" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Intersection Types</h2>\n<h2 id="union-types"><a href="#union-types" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Union Types</h2>\n<h2 id="type-guards-and-differentiating-types"><a href="#type-guards-and-differentiating-types" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Type Guards and Differentiating Types</h2>\n<h2 id="nullable-types"><a href="#nullable-types" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Nullable types</h2>\n<h2 id="type-aliases"><a href="#type-aliases" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Type Aliases</h2>\n<h2 id="string-literal-types"><a href="#string-literal-types" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>String Literal Types</h2>\n<h2 id="numeric-literal-types"><a href="#numeric-literal-types" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Numeric Literal Types</h2>\n<h2 id="enum-member-types"><a href="#enum-member-types" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Enum Member Types</h2>\n<h2 id="discriminated-unions"><a href="#discriminated-unions" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Discriminated Unions</h2>\n<h2 id="discriminated-unions-1"><a href="#discriminated-unions-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Discriminated Unions</h2>\n<h2 id="index-types"><a href="#index-types" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Index types</h2>\n<h2 id="mapped-types"><a href="#mapped-types" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Mapped types</h2>\n<h1 id="interfaces"><a href="#interfaces" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Interfaces</h1>\n<p>TS采用<code class="language-text">鸭子类型</code>或者叫<code class="language-text">结构子类型</code>. “duck typing” or “structural subtyping”</p>\n<h2 id="optional-properties"><a href="#optional-properties" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Optional Properties</h2>\n<h2 id="readonly-properties"><a href="#readonly-properties" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Readonly properties</h2>\n<h2 id="excess-property-checks"><a href="#excess-property-checks" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Excess Property Checks</h2>\n<h2 id="function-types"><a href="#function-types" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Function Types</h2>\n<h2 id="indexable-types"><a href="#indexable-types" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Indexable Types</h2>\n<h2 id="class-types"><a href="#class-types" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Class Types</h2>\n<h2 id="extending-interfaces"><a href="#extending-interfaces" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Extending Interfaces</h2>\n<h2 id="hybrid-types"><a href="#hybrid-types" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Hybrid Types</h2>\n<h2 id="interfaces-extending-classes"><a href="#interfaces-extending-classes" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Interfaces Extending Classes</h2>\n<h1 id="classes"><a href="#classes" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Classes</h1>\n<h2 id="inheritance"><a href="#inheritance" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Inheritance</h2>\n<h2 id="public-private-and-protected-modifiers"><a href="#public-private-and-protected-modifiers" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Public, private, and protected modifiers</h2>\n<p>Public by default</p>\n<h2 id="readonly-modifier"><a href="#readonly-modifier" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Readonly modifier</h2>\n<h2 id="accessors"><a href="#accessors" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Accessors</h2>\n<h2 id="static-properties"><a href="#static-properties" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Static Properties</h2>\n<h2 id="abstract-classes"><a href="#abstract-classes" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Abstract Classes</h2>\n<h2 id="advanced-techniques"><a href="#advanced-techniques" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Advanced Techniques</h2>\n<h3 id="constructor-functions"><a href="#constructor-functions" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Constructor functions</h3>\n<h3 id="using-a-class-as-an-interface"><a href="#using-a-class-as-an-interface" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using a class as an interface</h3>\n<h1 id="functions"><a href="#functions" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Functions</h1>\n<h2 id="function-types-1"><a href="#function-types-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Function Types</h2>\n<h2 id="optional-and-default-parameters"><a href="#optional-and-default-parameters" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Optional and Default Parameters</h2>\n<h2 id="rest-parameters"><a href="#rest-parameters" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Rest Parameters</h2>\n<h2 id="this"><a href="#this" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>this</h2>\n<h2 id="overloads"><a href="#overloads" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Overloads</h2>\n<h1 id="generics"><a href="#generics" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Generics</h1>\n<h2 id="generic-type-variables"><a href="#generic-type-variables" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Generic Type Variables</h2>\n<h2 id="generic-types"><a href="#generic-types" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Generic Types</h2>\n<h2 id="generic-classes"><a href="#generic-classes" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Generic Classes</h2>\n<h2 id="generic-constraints"><a href="#generic-constraints" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Generic Constraints</h2>\n<h1 id="enums"><a href="#enums" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Enums</h1>\n<h1 id="type-inference"><a href="#type-inference" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Type Inference</h1>\n<h2 id="best-common-type"><a href="#best-common-type" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Best common type</h2>\n<h2 id="contextual-type"><a href="#contextual-type" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Contextual Type</h2>\n<h1 id="type-compatibility"><a href="#type-compatibility" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Type Compatibility</h1>\n<h2 id="comparing-two-functions"><a href="#comparing-two-functions" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Comparing two functions</h2>\n<h2 id="function-parameter-bivariance"><a href="#function-parameter-bivariance" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Function Parameter Bivariance</h2>\n<h2 id="optional-parameters-and-rest-parameters"><a href="#optional-parameters-and-rest-parameters" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Optional Parameters and Rest Parameters</h2>\n<h2 id="enums-1"><a href="#enums-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Enums</h2>\n<h2 id="classes-1"><a href="#classes-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Classes</h2>\n<h2 id="generics-1"><a href="#generics-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Generics</h2>\n<h2 id="advanced-topics"><a href="#advanced-topics" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Advanced Topics</h2>\n<p>Subtype vs Assignment</p>\n<h1 id="symbols"><a href="#symbols" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Symbols</h1>\n<h1 id="iterators-and-generators"><a href="#iterators-and-generators" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Iterators and Generators</h1>\n<h1 id="modules"><a href="#modules" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Modules</h1>\n<h1 id="namespaces"><a href="#namespaces" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Namespaces</h1>\n<h1 id="namespaces-and-modules"><a href="#namespaces-and-modules" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Namespaces and Modules</h1>\n<h1 id="module-resolution"><a href="#module-resolution" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Module Resolution</h1>\n<h1 id="declaration-merging"><a href="#declaration-merging" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Declaration Merging</h1>\n<h1 id="jsx"><a href="#jsx" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>JSX</h1>\n<h1 id="decorators"><a href="#decorators" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Decorators</h1>\n<h1 id="mixins"><a href="#mixins" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Mixins</h1>\n<h1 id="triple-slash-directives"><a href="#triple-slash-directives" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Triple-Slash Directives</h1>\n<h1 id="语言规范"><a href="#%E8%AF%AD%E8%A8%80%E8%A7%84%E8%8C%83" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>语言规范</h1>\n<p><a href="https://github.com/Microsoft/TypeScript/blob/master/doc/spec.md">https://github.com/Microsoft/TypeScript/blob/master/doc/spec.md</a></p>',
timeToRead:5,excerpt:"TS的简介或者说学习笔记吧，主要留给自己查阅。 在线工具 https://www.typescriptlang.org/play/index.html 基本数据类型Basic Types Boolean Number String Array Tuple Enum Any…",fields:{slug:"/ts-study/"},frontmatter:{title:"TypeScript简介",date:"2018-03-06",category:"FE",tags:["typescript","ts"]}}},{node:{html:'<p><strong>持续更新，可以保持关注</strong></p>\n<p><a href="https://www.typescriptlang.org/">TypeScript</a>的一些学习资料:</p>\n<!-- more -->\n<h1 id="语言本身"><a href="#%E8%AF%AD%E8%A8%80%E6%9C%AC%E8%BA%AB" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>语言本身</h1>\n<ul>\n<li>最权威的资料，当然是TS官网： <a href="https://www.typescriptlang.org/">https://www.typescriptlang.org/</a></li>\n<li>typescript-book: <a href="https://github.com/basarat/typescript-book">https://github.com/basarat/typescript-book</a></li>\n</ul>\n<h1 id="脚手架"><a href="#%E8%84%9A%E6%89%8B%E6%9E%B6" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>脚手架</h1>\n<ul>\n<li>TypeScript &#x26; Egg.js: <a href="https://github.com/magicly/ts-egg-demo">https://github.com/magicly/ts-egg-demo</a></li>\n<li>TypeScript &#x26; React: <a href="https://magicly.me/ts-react-starter/">https://magicly.me/ts-react-starter/</a></li>\n<li>TypeScript &#x26; React Native: <a href="https://magicly.me/ts-reactnative-starter/">https://magicly.me/ts-reactnative-starter/</a></li>\n<li>一条命令创建免配置的 React + Antd + Typescript 项目： <a href="https://zhuanlan.zhihu.com/p/33523384">https://zhuanlan.zhihu.com/p/33523384</a></li>\n<li>react + typescript 手脚架： <a href="https://zhuanlan.zhihu.com/p/27771021">https://zhuanlan.zhihu.com/p/27771021</a></li>\n<li>微信小程序：<a href="https://github.com/qiu8310/minapp">https://github.com/qiu8310/minapp</a></li>\n</ul>\n<h1 id="其他工具"><a href="#%E5%85%B6%E4%BB%96%E5%B7%A5%E5%85%B7" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>其他工具</h1>\n<ul>\n<li>TypeSearch: <a href="https://microsoft.github.io/TypeSearch/">https://microsoft.github.io/TypeSearch/</a></li>\n<li>CSS: <a href="https://typestyle.github.io">https://typestyle.github.io</a></li>\n</ul>',timeToRead:1,excerpt:"持续更新，可以保持关注 TypeScript 的一些学习资料: 语言本身 最权威的资料，当然是TS官网：  https://www.typescriptlang.org/ typescript-book:  https://github.com/basarat…",fields:{slug:"/ts-materials/"},frontmatter:{title:"TypeScript学习资料",date:"2018-03-06",category:"FE",tags:["typescript","ts"]}}},{node:{html:'<p><a href="https://magicly.me/ts-react-starter/">上一篇我们介绍了TypeScript如何跟React搭配使用</a>，这篇我们继续介绍如何在React Native中使用TS。</p>\n<p>关于React Native，我之前写过一本<a href="http://gitbook.cn/gitchat/column/5a17c2e113c02f4a35ca5a7d">React Native电子书</a>， 如果不熟悉RN的话可以参考一下。</p>\n<p>本文涵盖内容如下：</p>\n<ul>\n<li>TypeScript &#x26; React Native</li>\n<li>TSLint</li>\n<li>Jest</li>\n</ul>\n<!-- more -->\n<h1 id="准备知识"><a href="#%E5%87%86%E5%A4%87%E7%9F%A5%E8%AF%86" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>准备知识</h1>\n<p>本文假设读者已经知道如何用RN进行开发，至少是把开发环境搭建起来，能在模拟器或者手机上运行App了。如果不了解的话， 请参考<a href="http://gitbook.cn/gitchat/column/5a17c2e113c02f4a35ca5a7d">React Native 移动开发入门与实战</a>。</p>\n<h1 id="新建项目"><a href="#%E6%96%B0%E5%BB%BA%E9%A1%B9%E7%9B%AE" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>新建项目</h1>\n<p>用<code class="language-text">react-native init</code>正常初始化一个RN项目。</p>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">react-native init TSReactNativeDemo</code></pre>\n      </div>\n<p>项目初始结构为：</p>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">➜  TSReactNativeDemo tree -L 1\n<span class="token keyword">.</span>\n├── App.js\n├── __tests__\n├── android\n├── app.json\n├── index.js\n├── ios\n├── node_modules\n├── package.json\n└── yarn.lock\n\n4 directories, 5 files</code></pre>\n      </div>\n<h1 id="运行"><a href="#%E8%BF%90%E8%A1%8C" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>运行</h1>\n<p>在手机或者模拟器上运行起来。</p>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">react-native run-android\nreact-native run-ios</code></pre>\n      </div>\n<h1 id="引入typescript"><a href="#%E5%BC%95%E5%85%A5typescript" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>引入TypeScript</h1>\n<p>目前React Native Packager是通过Babel编译<code class="language-text">.js</code>文件以及打包的，暂时还没有特别好的方法直接使用<code class="language-text">.tsx</code>。所以基本思路就是， 先用TypeScript的编译器<code class="language-text">tsc</code>将<code class="language-text">.ts</code>或<code class="language-text">.tsx</code>文件编译成<code class="language-text">.js</code>文件，再用React Native Packager编译打包即可。</p>\n<p>首先我们安装TS依赖：</p>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">yarn add -D typescript</code></pre>\n      </div>\n<p>然后需要安装types：</p>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">yarn add -D @types/react @types/react-native</code></pre>\n      </div>\n<p>然后需要配置<code class="language-text">tsconfig.json</code>，可以用如下命令生成：</p>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">tsc --init --pretty --sourceMap --target es2015 --outDir ./lib --rootDir ./ --module commonjs --jsx react</code></pre>\n      </div>\n<p>生成的文件里面有具体每个参数的含义，也可以参考<a href="http://www.typescriptlang.org/docs/handbook/tsconfig-json.html">TS官网文档</a>。 也可以直接参考上一篇中的<code class="language-text">tsconfig.json</code>文件，进行少许修改即可。</p>\n<h1 id="编写ts组件"><a href="#%E7%BC%96%E5%86%99ts%E7%BB%84%E4%BB%B6" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>编写TS组件</h1>\n<p>上面配置好TS后， 我们就可以开始用TS写组件了。还是跟上篇一样， 写一个简单的<code class="language-text">Counter.tsx</code>。</p>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> React <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> Button<span class="token punctuation">,</span> StyleSheet<span class="token punctuation">,</span> Text<span class="token punctuation">,</span> View <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'react-native\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">interface</span> <span class="token class-name">Props</span> <span class="token punctuation">{</span>\n  name<span class="token punctuation">:</span> string<span class="token punctuation">;</span>\n  count<span class="token operator">?</span><span class="token punctuation">:</span> number<span class="token punctuation">;</span>\n  onInc<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n  onDec<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">,</span> count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> onInc<span class="token punctuation">,</span> onDec <span class="token punctuation">}</span><span class="token punctuation">:</span> Props<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>View</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>root<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span><span class="token punctuation">></span></span>\n      Counter <span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>count<span class="token punctuation">}</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Text</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>View</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>+<span class="token punctuation">"</span></span> <span class="token attr-name">onPress</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onInc <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Button</span> <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>-<span class="token punctuation">"</span></span> <span class="token attr-name">onPress</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onDec <span class="token operator">||</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>View</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>View</span><span class="token punctuation">></span></span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token comment">// styles</span>\n<span class="token keyword">const</span> styles <span class="token operator">=</span> StyleSheet<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  root<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n    alignItems<span class="token punctuation">:</span> <span class="token string">\'center\'</span><span class="token punctuation">,</span>\n    alignSelf<span class="token punctuation">:</span> <span class="token string">\'center\'</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  buttons<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n    flexDirection<span class="token punctuation">:</span> <span class="token string">\'row\'</span><span class="token punctuation">,</span>\n    minHeight<span class="token punctuation">:</span> <span class="token number">70</span><span class="token punctuation">,</span>\n    alignItems<span class="token punctuation">:</span> <span class="token string">\'stretch\'</span><span class="token punctuation">,</span>\n    alignSelf<span class="token punctuation">:</span> <span class="token string">\'center\'</span><span class="token punctuation">,</span>\n    borderWidth<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  button<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n    flex<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n    paddingVertical<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  greeting<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n    color<span class="token punctuation">:</span> <span class="token string">\'#999\'</span><span class="token punctuation">,</span>\n    fontWeight<span class="token punctuation">:</span> <span class="token string">\'bold\'</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<p>然后我们执行<code class="language-text">./node_modules/.bin/tsc</code>命令，就会在<code class="language-text">lib</code>目录下生成相同目录结构的<code class="language-text">.js</code>文件等。</p>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">➜  TSReactNativeDemo git:<span class="token punctuation">(</span>master<span class="token punctuation">)</span> ✗ tree lib -L 3\nlib\n└── src\n    └── components\n        ├── Counter.js\n        └── Counter.js.map\n\n2 directories, 2 files</code></pre>\n      </div>\n<p>然后在<code class="language-text">App.js</code>中如下使用<code class="language-text">Counter</code>即可：</p>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> Component <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> StyleSheet<span class="token punctuation">,</span> Text<span class="token punctuation">,</span> View <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'react-native\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">import</span> Counter <span class="token keyword">from</span> <span class="token string">\'./lib/src/components/Counter\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>View</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>container<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Text</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>styles<span class="token punctuation">.</span>welcome<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>Welcome to React Native<span class="token operator">!</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Text</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Counter</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>counter1<span class="token punctuation">"</span></span> <span class="token attr-name">count</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">10</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>View</span><span class="token punctuation">></span></span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> styles <span class="token operator">=</span> StyleSheet<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n  container<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n    flex<span class="token punctuation">:</span> <span class="token number">1</span><span class="token punctuation">,</span>\n    justifyContent<span class="token punctuation">:</span> <span class="token string">\'center\'</span><span class="token punctuation">,</span>\n    alignItems<span class="token punctuation">:</span> <span class="token string">\'center\'</span><span class="token punctuation">,</span>\n    backgroundColor<span class="token punctuation">:</span> <span class="token string">\'#F5FCFF\'</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  welcome<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n    fontSize<span class="token punctuation">:</span> <span class="token number">20</span><span class="token punctuation">,</span>\n    textAlign<span class="token punctuation">:</span> <span class="token string">\'center\'</span><span class="token punctuation">,</span>\n    margin<span class="token punctuation">:</span> <span class="token number">10</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  instructions<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n    textAlign<span class="token punctuation">:</span> <span class="token string">\'center\'</span><span class="token punctuation">,</span>\n    color<span class="token punctuation">:</span> <span class="token string">\'#333333\'</span><span class="token punctuation">,</span>\n    marginBottom<span class="token punctuation">:</span> <span class="token number">5</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<p>由于<code class="language-text">lib/</code>目录下的文件是编译生成，因此不需要放在git里面， 我们在<code class="language-text">.gitingore</code>中添加<code class="language-text">lib/</code>忽略之：</p>\n<div class="gatsby-highlight">\n      <pre class="language-text"><code class="language-text"># TypeScript\nlib/</code></pre>\n      </div>\n<h1 id="测试"><a href="#%E6%B5%8B%E8%AF%95" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试</h1>\n<p><strong>注意</strong>， <a href="http://airbnb.io/enzyme/docs/guides/react-native.html">enzyme测试ReactNative需要用react-native-mock</a>， 但是<a href="https://github.com/RealOrangeOne/react-native-mock/issues/139"><code class="language-text">react-native-mock</code>目前不支持React v16+</a>， 因此暂时不采用enzyme吧。</p>\n<p>RN还是用Jest做测试，为了支持TS，我们安装<code class="language-text">ts-jest</code>包。</p>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">yarn add -D ts-jest</code></pre>\n      </div>\n<p>同样，我们也添加相应的<code class="language-text">@types</code>：</p>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">yarn add -D @types/jest @types/react-test-renderer</code></pre>\n      </div>\n<p>修改<code class="language-text">package.json</code>文件里面<code class="language-text">jest</code>属性：</p>\n<div class="gatsby-highlight">\n      <pre class="language-json"><code class="language-json"><span class="token property">"jest"</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n    <span class="token property">"preset"</span><span class="token operator">:</span> <span class="token string">"react-native"</span><span class="token punctuation">,</span>\n    <span class="token property">"moduleFileExtensions"</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n        <span class="token string">"ts"</span><span class="token punctuation">,</span>\n        <span class="token string">"tsx"</span><span class="token punctuation">,</span>\n        <span class="token string">"js"</span>\n    <span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token property">"transform"</span><span class="token operator">:</span> <span class="token punctuation">{</span>\n        <span class="token property">"^.+\\\\.(js)$"</span><span class="token operator">:</span> <span class="token string">"&lt;rootDir>/node_modules/babel-jest"</span><span class="token punctuation">,</span>\n        <span class="token property">"\\\\.(ts|tsx)$"</span><span class="token operator">:</span> <span class="token string">"&lt;rootDir>/node_modules/ts-jest/preprocessor.js"</span>\n    <span class="token punctuation">}</span><span class="token punctuation">,</span>\n    <span class="token property">"testRegex"</span><span class="token operator">:</span> <span class="token string">"(/__tests__/.*|\\\\.(test|spec))\\\\.(ts|tsx|js)$"</span><span class="token punctuation">,</span>\n    <span class="token property">"testPathIgnorePatterns"</span><span class="token operator">:</span> <span class="token punctuation">[</span>\n        <span class="token string">"\\\\.snap$"</span><span class="token punctuation">,</span>\n        <span class="token string">"&lt;rootDir>/node_modules/"</span><span class="token punctuation">,</span>\n        <span class="token string">"&lt;rootDir>/lib/"</span>\n    <span class="token punctuation">]</span><span class="token punctuation">,</span>\n    <span class="token property">"cacheDirectory"</span><span class="token operator">:</span> <span class="token string">".jest/cache"</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<p>然后我们就可以写测试代码了：</p>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code class="language-jsx"><span class="token comment">// src/components/Counter.test.tsx</span>\n<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> React <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> enzyme <span class="token keyword">from</span> <span class="token string">\'enzyme\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> Counter <span class="token keyword">from</span> <span class="token string">\'./Counter\'</span><span class="token punctuation">;</span>\n\n<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">\'renders the correct text when count is not given\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> hello <span class="token operator">=</span> enzyme<span class="token punctuation">.</span><span class="token function">shallow</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Counter</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>counter1<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token function">expect</span><span class="token punctuation">(</span>hello<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">\'.counter\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token string">\'Counter counter1: 1\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<p>更多关于Jest测试可以参考<a href="http://gitbook.cn/gitchat/column/5a17c2e113c02f4a35ca5a7d/topic/5a17de5713c02f4a35ca67af">测试 Jest</a>。</p>\n<h1 id="配置tslint"><a href="#%E9%85%8D%E7%BD%AEtslint" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>配置TSLint</h1>\n<p>不像上一篇用<code class="language-text">react-scripts-ts</code>的话TSLint是自动配置好的， 我们需要手动安装TSLint。</p>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">yarn add -D tslint tslint-react</code></pre>\n      </div>\n<p>然后把上一章的<code class="language-text">tslint.json</code>文件复制过来。再在<code class="language-text">package.json</code>文件中增加如下代码：</p>\n<div class="gatsby-highlight">\n      <pre class="language-json"><code class="language-json">    <span class="token property">"lint"</span><span class="token operator">:</span> <span class="token string">"tslint -c tslint.json \'src/**/*.{ts,tsx}\'"</span><span class="token punctuation">,</span></code></pre>\n      </div>\n<p>然后就可以用<code class="language-text">yarn lint</code>检查代码了。</p>\n<p>为了在写代码的时候就能在VSCode里面获得错误提示， 可以安装VSCode的TSLint插件。</p>\n<h1 id="其他"><a href="#%E5%85%B6%E4%BB%96" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>其他</h1>\n<p>最后我们做一些额外工作提高开发效率。首先我们将<code class="language-text">tsc</code>命令写到<code class="language-text">package.json</code>里， 同时提供一个选择开启<code class="language-text">watch</code>模式。这样子执行<code class="language-text">yarn tsc-watch</code>命令后， TS就能实时编译为JS了，再配合上RN的<code class="language-text">Live Reload</code>或者<code class="language-text">Hot Reloading</code>能大大提高开发效率。</p>\n<div class="gatsby-highlight">\n      <pre class="language-json"><code class="language-json">    <span class="token property">"tsc"</span><span class="token operator">:</span> <span class="token string">"tsc"</span><span class="token punctuation">,</span>\n    <span class="token property">"tsc-watch"</span><span class="token operator">:</span> <span class="token string">"tsc --watch"</span><span class="token punctuation">,</span></code></pre>\n      </div>\n<p>Redux在RN中使用跟在React中使用没什么区别，参考<a href="/ts-react-starter">TypeScript React入门</a>即可。</p>\n<p>本文代码托管在<a href="https://github.com/magicly/TSReactNativeDemo">https://github.com/magicly/TSReactNativeDemo</a> ，随意使用~</p>\n<h1 id="refers"><a href="#refers" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Refers</h1>\n<ul>\n<li><a href="https://github.com/Microsoft/TypeScript-React-Native-Starter">https://github.com/Microsoft/TypeScript-React-Native-Starter</a></li>\n<li><a href="https://github.com/kulshekhar/ts-jest">https://github.com/kulshekhar/ts-jest</a></li>\n<li><a href="https://www.typescriptlang.org/docs/home.html">https://www.typescriptlang.org/docs/home.html</a></li>\n<li><a href="http://airbnb.io/enzyme/">http://airbnb.io/enzyme/</a></li>\n<li><a href="https://palantir.github.io/tslint/rules/no-implicit-dependencies/">https://palantir.github.io/tslint/rules/no-implicit-dependencies/</a></li>\n<li><a href="https://palantir.github.io/tslint/usage/rule-flags/">https://palantir.github.io/tslint/usage/rule-flags/</a></li>\n<li><a href="https://stackoverflow.com/questions/31605781/why-do-tslint-and-jslint-report-empty-blocks">https://stackoverflow.com/questions/31605781/why-do-tslint-and-jslint-report-empty-blocks</a></li>\n<li><a href="https://medium.com/@rintoj/react-native-with-typescript-40355a90a5d7">https://medium.com/@rintoj/react-native-with-typescript-40355a90a5d7</a></li>\n<li><a href="http://bbs.reactnative.cn/topic/4483/%E4%BD%BF%E7%94%A8typescript%E7%BC%96%E5%86%99react-native-%E9%AB%98%E6%95%88%E7%89%88">http://bbs.reactnative.cn/topic/4483/使用typescript编写react-native-高效版</a></li>\n<li><a href="https://zhuanlan.zhihu.com/p/27029898">https://zhuanlan.zhihu.com/p/27029898</a></li>\n</ul>',
timeToRead:6,excerpt:"上一篇我们介绍了TypeScript如何跟React搭配使用 ，这篇我们继续介绍如何在React Native中使用TS。 关于React Native，我之前写过一本 React Native电子书 ， 如果不熟悉RN的话可以参考一下。 本文涵盖内容如下： TypeScript…",fields:{slug:"/ts-reactnative-starter/"},frontmatter:{title:"TypeScript React Native入门",date:"2018-02-25",category:"FE",tags:["typescript","ts","react","rn","redux","react native"]}}},{node:{html:'<p>Javascript作为一门动态语言， 简单易学，容易上手，非常适合web开发（浏览器也只支持JS啊）。但是随着项目逐渐变大，动态语言的弊端慢慢显露出来，比如没有编译器检查，代码质量不容易保证，IDE支持有限， 不便于重构等等， 而且JS设计之初比较仓促遗留了很多问题，好在ES6等后续版本慢慢修复了很多问题。也有各种尝试将其它语言编译成JS来做web开发，包括GWT、Dart、Java、Scala、Kotlin、Go等，而微软出的TypeScript由于一系列的优点，算是目前最流行的吧。当前Web开发基本是三大框架三分天下：Angular、React、Vue，而Angular本身就是TS开发的，React和Vue也支持TS开发。本文就简单介绍一下如何用TS开发React。</p>\n<p>另外Facebook自己开发的Flow也可以给JS添加静态类型，我之前写过一篇文章介绍React Native里面如何使用Flow，有兴趣的可以移步<a href="http://gitbook.cn/gitchat/column/5a17c2e113c02f4a35ca5a7d/topic/5a17de4013c02f4a35ca67a6">Flow使用</a>。</p>\n<p>本文涵盖内容如下：</p>\n<ul>\n<li>TypeScript &#x26; React</li>\n<li>TSLint</li>\n<li>Jest &#x26; Enzyme</li>\n<li>Redux</li>\n</ul>\n<!-- more -->\n<h1 id="安装create-react-app"><a href="#%E5%AE%89%E8%A3%85create-react-app" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>安装create-react-app</h1>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> i -g create-react-app</code></pre>\n      </div>\n<h1 id="新建项目"><a href="#%E6%96%B0%E5%BB%BA%E9%A1%B9%E7%9B%AE" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>新建项目</h1>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">create-react-app ts-react-demo --scripts-version<span class="token operator">=</span>react-scripts-ts</code></pre>\n      </div>\n<p><a href="https://github.com/wmonk/create-react-app-typescript">react-scripts-ts</a>是CRA的一个fork，可以很方便的开始使用TS。</p>\n<p>项目初始结构为：</p>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">➜  ts-react-demo tree -L 1\n<span class="token keyword">.</span>\n├── README.md\n├── node_modules\n├── package.json\n├── public\n├── src\n├── tsconfig.json\n├── tsconfig.test.json\n├── tslint.json\n└── yarn.lock\n\n3 directories, 6 files</code></pre>\n      </div>\n<p>其中：</p>\n<ul>\n<li>tsconfig.json是关于TS编译器的一些配置项；</li>\n<li>tslint.json，是TSLint的配置文件，类似ESLint</li>\n</ul>\n<p>其他文件跟普通CRA建的项目一样。</p>\n<h1 id="运行"><a href="#%E8%BF%90%E8%A1%8C" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>运行</h1>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> start</code></pre>\n      </div>\n<p>会自动启动浏览器打开<a href="http://localhost:3000">http://localhost:3000</a> 。</p>\n<h1 id="测试"><a href="#%E6%B5%8B%E8%AF%95" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试</h1>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> run <span class="token function">test</span></code></pre>\n      </div>\n<p>会运行Jest做测试， 检查所有以<code class="language-text">.test.ts</code>或者<code class="language-text">.spec.ts</code>结尾的文件。</p>\n<h1 id="打正式包"><a href="#%E6%89%93%E6%AD%A3%E5%BC%8F%E5%8C%85" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>打正式包</h1>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> run build</code></pre>\n      </div>\n<p>下面， 我们正式开始用TS来写React组件。</p>\n<h1 id="创建组件"><a href="#%E5%88%9B%E5%BB%BA%E7%BB%84%E4%BB%B6" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>创建组件</h1>\n<p>我们写一个简单的<code class="language-text">Counter</code>组件，接受<code class="language-text">name</code>和<code class="language-text">count</code>参数， 显示<code class="language-text">Counter {name}: {count}</code>，可以如下调用：</p>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code class="language-jsx"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Counter</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>counter1<span class="token punctuation">"</span></span> <span class="token attr-name">count</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span></code></pre>\n      </div>\n<p>React里，最简单的写组件的方式是用函数定义，即所谓的<a href="https://react-course.magicfun.ai/basics/stateless-component.html">Stateless Component</a>，定义如下：</p>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code class="language-jsx"><span class="token comment">// src/components/Counter.tsx</span>\n\n<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> React <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">interface</span> <span class="token class-name">Props</span> <span class="token punctuation">{</span>\n  name<span class="token punctuation">:</span> string<span class="token punctuation">;</span>\n  count<span class="token operator">?</span><span class="token punctuation">:</span> number<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">,</span> count <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">:</span> Props<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>\n    Counter <span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>count<span class="token punctuation">}</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<p>当然也可以用<code class="language-text">class</code>的方式定义组件，写作如下：</p>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code class="language-jsx"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Counter</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token operator">&lt;</span>Props<span class="token punctuation">,</span> object<span class="token operator">></span> <span class="token punctuation">{</span>\n  <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">const</span> <span class="token punctuation">{</span> name<span class="token punctuation">,</span> count <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>\n    <span class="token keyword">return</span> <span class="token punctuation">(</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>\n        Counter <span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>count<span class="token punctuation">}</span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n    <span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<p>这里<code class="language-text">React.Component&lt;Props, object&gt;</code>第一个是<code class="language-text">props</code>的参数类型， 第二个是<code class="language-text">state</code>的类型。因为我们暂时用不到<code class="language-text">state</code>，所以简单放一个<code class="language-text">objcet</code>类型即可。</p>\n<p>然后我们修改<code class="language-text">index.tsx</code>文件：</p>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> React <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> ReactDOM <span class="token keyword">from</span> <span class="token string">\'react-dom\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> Hello <span class="token keyword">from</span> <span class="token string">\'./components/Counter\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> registerServiceWorker <span class="token keyword">from</span> <span class="token string">\'./registerServiceWorker\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">\'./index.css\'</span><span class="token punctuation">;</span>\n\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Hello</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>counter1<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">,</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'root\'</span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLElement<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token function">registerServiceWorker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<p>最后提一下<code class="language-text">document.getElementById(&#39;root&#39;) as HTMLElement</code>是TS里的强制类型转化，因为<code class="language-text">document.getElementById(&#39;root&#39;)</code>返回的类型是<code class="language-text">HTMLElement | null</code>，即有可能为null。当然了， 如果html里面没有id是root的DOM，返回值就是null了。但是这里我们自己知道肯定有id是root的DOM的， 也就是说我们比TS编译器更清楚事实真相，所以可以用强制类型转化告诉编译器。PS, 其实不做貌似也没问题。</p>\n<h1 id="添加样式"><a href="#%E6%B7%BB%E5%8A%A0%E6%A0%B7%E5%BC%8F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>添加样式</h1>\n<p>前端开发，一个很重要的工作就是编写样式。CRA（也就是webpack和一堆loaders）支持直接<code class="language-text">import css</code>，所以我们可以直接编写<code class="language-text">src/components/Counter.css</code>，然后在<code class="language-text">Counter.tsx</code>中<code class="language-text">import</code>即可。</p>\n<div class="gatsby-highlight">\n      <pre class="language-css"><code class="language-css"><span class="token comment">/* src/components/Counter.css */</span>\n<span class="token selector">.counter</span> <span class="token punctuation">{</span>\n  <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>\n  <span class="token property">font-size</span><span class="token punctuation">:</span> 48px<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> React <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">\'./Counter.css\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">interface</span> <span class="token class-name">Props</span> <span class="token punctuation">{</span>\n  name<span class="token punctuation">:</span> string<span class="token punctuation">;</span>\n  count<span class="token operator">?</span><span class="token punctuation">:</span> number<span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">,</span> count <span class="token operator">=</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">:</span> Props<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>counter<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    Counter <span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>count<span class="token punctuation">}</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<p>当然，由于CSS只有全局作用域，很容易出现命名冲突，现在越来越流行用CSSInJS来开发，推荐使用<a href="https://react-course.magicfun.ai/css/">Styled Components</a>。</p>\n<h1 id="测试-1"><a href="#%E6%B5%8B%E8%AF%95-1" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>测试</h1>\n<p>我们用<a href="http://airbnb.io/enzyme/">Enzyme</a>来做测试。首先安装依赖：</p>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> i -D enzyme @types/enzyme react-addons-test-utils</code></pre>\n      </div>\n<p>其中<code class="language-text">enzyme</code>是实际运行的代码， <code class="language-text">@types/enzyme</code>是类型声明文件，类似于C/C++中的<code class="language-text">.h</code>文件。</p>\n<p>然后我们就可以写测试代码了：</p>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code class="language-jsx"><span class="token comment">// src/components/Counter.test.tsx</span>\n<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> React <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> enzyme <span class="token keyword">from</span> <span class="token string">\'enzyme\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> Counter <span class="token keyword">from</span> <span class="token string">\'./Counter\'</span><span class="token punctuation">;</span>\n\n<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">\'renders the correct text when count is not given\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> hello <span class="token operator">=</span> enzyme<span class="token punctuation">.</span><span class="token function">shallow</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Counter</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>counter1<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token function">expect</span><span class="token punctuation">(</span>hello<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">\'.counter\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token string">\'Counter counter1: 1\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<p><strong>注意！！！</strong>：这里我遇到一些问题， 直接执行<code class="language-text">npm run test</code>，报错：</p>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">Error: Cannot <span class="token function">find</span> module <span class="token string">\'./development/fe/ts-react-demo/node_modules/jest-cli\'</span></code></pre>\n      </div>\n<p>发现<code class="language-text">jest-cli</code>目录为空：</p>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">➜  ts-react-demo git:<span class="token punctuation">(</span>master<span class="token punctuation">)</span> ✗ ll node_modules/jest-cli\ntotal 0\ndrwxr-xr-x  3 magicly  staff    96B  2 24 12:12 node_modules</code></pre>\n      </div>\n<p>而重新用<code class="language-text">yarn</code>安装所有依赖， 则正常了：</p>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">➜  ts-react-demo git:<span class="token punctuation">(</span>master<span class="token punctuation">)</span> ✗ ll node_modules/jest-cli\ntotal 16\n-rw-r--r--   1 magicly  staff   595B  5 12  2017 README.md\ndrwxr-xr-x   3 magicly  staff    96B  2 24 12:16 bin\ndrwxr-xr-x  23 magicly  staff   736B  2 24 12:16 build\ndrwxr-xr-x   3 magicly  staff    96B  2 24 12:16 node_modules\n-rw-r--r--   1 magicly  staff   1.7K  5 24  2017 package.json</code></pre>\n      </div>\n<p>貌似<code class="language-text">jest</code>跟<code class="language-text">yarn</code>更适合？\n然后执行<code class="language-text">npm run test</code>报错：</p>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">FAIL  src/components/Counter.test.tsx\n  ● renders the correct text when no count is given\n\n\n          Enzyme Internal Error: Enzyme expects an adapter to be configured, but found none. To\n          configure an adapter, you should call <span class="token variable"><span class="token variable">`</span>Enzyme.configure<span class="token punctuation">(</span><span class="token punctuation">{</span> adapter: new Adapter<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token variable">`</span></span>\n          before using any of Enzyme<span class="token string">\'s top level APIs, where <span class="token variable"><span class="token variable">`</span>Adapter<span class="token variable">`</span></span> is the adapter\n          corresponding to the library currently being tested. For example:\n\n          import Adapter from \'</span>enzyme-adapter-react-15\'<span class="token punctuation">;</span>\n\n          To <span class="token function">find</span> out <span class="token function">more</span> about this, see http://airbnb.io/enzyme/docs/installation/index.html</code></pre>\n      </div>\n<p>因为我们用的Reactv16，安装相应adapter即可：</p>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> i -D enzyme-adapter-react-16</code></pre>\n      </div>\n<p>结果，很奇怪，<code class="language-text">jest-cli</code>又被清空了！又重新用<code class="language-text">yarn</code>安装了一次，ok了， 看样子以后用CRA的话还是用yarn吧，毕竟都是Facebook的产品。</p>\n<p>还会报错说没有<code class="language-text">enzyme-adapter-react-16</code>的类型定义信息， 于是安装之: <code class="language-text">yarn add -D @types/enzyme-adapter-react-16</code>。 一起正常了！</p>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash"> PASS  src/components/Counter.test.tsx\n  ✓ renders the correct text when count is not given <span class="token punctuation">(</span>3ms<span class="token punctuation">)</span>\n  ✓ renders the correct text when count is given <span class="token punctuation">(</span>1ms<span class="token punctuation">)</span>\n\nTest Suites: 1 passed, 1 total\nTests:       2 passed, 2 total\nSnapshots:   0 total\nTime:        0.597s, estimated 2s\nRan all <span class="token function">test</span> suites related to changed files.\n\nWatch Usage: Press w to show more.</code></pre>\n      </div>\n<p>最终测试代码如下：</p>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code class="language-jsx"><span class="token comment">// src/components/Counter.test.tsx</span>\n\n<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> React <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> enzyme <span class="token keyword">from</span> <span class="token string">\'enzyme\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> Adapter <span class="token keyword">from</span> <span class="token string">\'enzyme-adapter-react-16\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> Counter <span class="token keyword">from</span> <span class="token string">\'./Counter\'</span><span class="token punctuation">;</span>\n\nenzyme<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">{</span> adapter<span class="token punctuation">:</span> <span class="token keyword">new</span> <span class="token class-name">Adapter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">\'renders the correct text when count is not given\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> hello <span class="token operator">=</span> enzyme<span class="token punctuation">.</span><span class="token function">shallow</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Counter</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>counter1<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token function">expect</span><span class="token punctuation">(</span>hello<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">\'.counter\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token string">\'Counter counter1: 1\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">\'renders the correct text when count is given\'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">const</span> hello <span class="token operator">=</span> enzyme<span class="token punctuation">.</span><span class="token function">shallow</span><span class="token punctuation">(</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Counter</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>counter1<span class="token punctuation">"</span></span> <span class="token attr-name">count</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">5</span><span class="token punctuation">}</span></span> <span class="token punctuation">/></span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n  <span class="token function">expect</span><span class="token punctuation">(</span>hello<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">\'.counter\'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token string">\'Counter counter1: 5\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<h1 id="状态管理"><a href="#%E7%8A%B6%E6%80%81%E7%AE%A1%E7%90%86" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>状态管理</h1>\n<p>稍微复杂点的应用都需要专门的状态管理工具， 比较流行的有<a href="http://redux.js.org/">Redux</a>和<a href="https://mobx.js.org/">MobX</a>， 这里我们使用<a href="http://gitbook.cn/gitchat/column/5a17c2e113c02f4a35ca5a7d/topic/5a17ddd313c02f4a35ca676f">更熟悉的Redux</a>, 以前做培训的时候录制过一个<a href="https://www.bilibili.com/video/av17174653/">redux视频</a>，有兴趣的可以看看。</p>\n<h2 id="安装redux"><a href="#%E5%AE%89%E8%A3%85redux" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>安装redux</h2>\n<p>首先我们还是安装<code class="language-text">redux</code>和<code class="language-text">react-redux</code>。</p>\n<div class="gatsby-highlight">\n      <pre class="language-bash"><code class="language-bash">yarn add redux react-redux @types/react-redux</code></pre>\n      </div>\n<p>这里我们只需要安装<code class="language-text">react-redux</code>的types，因为<code class="language-text">redux</code>包里自己包含了类型定义（现在很多流行的包都这样做了，也可以反映出TS的流行程度）。</p>\n<p>redux有三个重要部分，分别是<code class="language-text">state</code>, <code class="language-text">action</code>和<code class="language-text">reducer</code>，接下来我们分别介绍。</p>\n<h2 id="state"><a href="#state" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>state</h2>\n<p>redux的设计原则是整个App里就只有一颗状态树，我们的应用比较简单，状态只有两个变量即可：</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token comment">// src/types/index.tsx</span>\n<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">StoreState</span> <span class="token punctuation">{</span>\n  name<span class="token punctuation">:</span> string<span class="token punctuation">;</span>\n  count<span class="token punctuation">:</span> number<span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<h2 id="actions"><a href="#actions" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>actions</h2>\n<p>action就是简单的JS对象，只需要有<code class="language-text">type</code>属性即可，为了便于重构，我们把用作<code class="language-text">action.type</code>的字符串作为常量放在单独的文件。 </p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token comment">// src/constants/index.ts</span>\n\n<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">INCX</span> <span class="token operator">=</span> <span class="token string">\'INC\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token constant">DEC</span> <span class="token operator">=</span> <span class="token string">\'DEC\'</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<p>然后定义<code class="language-text">action</code>文件：</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> constants <span class="token keyword">from</span> <span class="token string">\'../constants\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">interface</span> <span class="token class-name">ActionINC</span> <span class="token punctuation">{</span>\n  type<span class="token punctuation">:</span> <span class="token keyword">typeof</span> constants<span class="token punctuation">.</span><span class="token constant">INC</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n<span class="token keyword">interface</span> <span class="token class-name">ActionDEC</span> <span class="token punctuation">{</span>\n  type<span class="token punctuation">:</span> <span class="token keyword">typeof</span> constants<span class="token punctuation">.</span><span class="token constant">DEC</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">export</span> type ActionCount <span class="token operator">=</span> ActionINC <span class="token operator">|</span> ActionDEC<span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">inc</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token punctuation">{</span>\n    type<span class="token punctuation">:</span> constants<span class="token punctuation">.</span><span class="token constant">INC</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">dec</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token punctuation">{</span>\n    type<span class="token punctuation">:</span> constants<span class="token punctuation">.</span><span class="token constant">DEC</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<p><strong>注意</strong>，TS有<a href="https://www.typescriptlang.org/docs/handbook/advanced-types.html">字符串字面量类型String Literal Types</a>，也就是说<code class="language-text">typeof &#39;INC&#39;</code>类型也就是<code class="language-text">&#39;INC&#39;</code>，但是不能把作为<code class="language-text">type</code>的<code class="language-text">&#39;INC&#39;</code>跟作为字符串本身的<code class="language-text">&#39;INC&#39;</code>混淆。这就是为什么在定义<code class="language-text">ActionINC</code>中，需要使用<code class="language-text">typeof constants.INC</code>而不能直接使用<code class="language-text">constants.INC</code>（会报找不到INC）。</p>\n<p>如果觉得我们为了定义两个action写了太多<strong>boilerplate</strong>代码， 可以看一下<a href="https://github.com/reduxactions/redux-actions">redux-actions</a>。</p>\n<h2 id="reducers"><a href="#reducers" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>reducers</h2>\n<p>redux中，reducer是一个pure function，接受之前的状态和当前的action，返回下一个状态，即：</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token punctuation">(</span>prevState<span class="token punctuation">,</span> action<span class="token punctuation">)</span> <span class="token operator">=></span> nextState</code></pre>\n      </div>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js"><span class="token comment">// src/reducers/index.ts</span>\n\n<span class="token keyword">import</span> <span class="token punctuation">{</span> ActionCount <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'../actions\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> StoreState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'../types\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> <span class="token constant">INC</span><span class="token punctuation">,</span> <span class="token constant">DEC</span> <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'../constants\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">reducer</span><span class="token punctuation">(</span>prevState<span class="token punctuation">:</span> StoreState<span class="token punctuation">,</span> action<span class="token punctuation">:</span> ActionCount<span class="token punctuation">)</span><span class="token punctuation">:</span> StoreState <span class="token punctuation">{</span>\n  <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token keyword">case</span> <span class="token constant">INC</span><span class="token punctuation">:</span>\n      <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>prevState<span class="token punctuation">,</span> count<span class="token punctuation">:</span> prevState<span class="token punctuation">.</span>count <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token keyword">case</span> <span class="token constant">DEC</span><span class="token punctuation">:</span>\n      <span class="token keyword">return</span> <span class="token punctuation">{</span> <span class="token operator">...</span>prevState<span class="token punctuation">,</span> count<span class="token punctuation">:</span> prevState<span class="token punctuation">.</span>count <span class="token operator">-</span> <span class="token number">1</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>\n    <span class="token keyword">default</span><span class="token punctuation">:</span>\n      <span class="token keyword">return</span> prevState<span class="token punctuation">;</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<h2 id="container-component"><a href="#container-component" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Container Component</h2>\n<p>一般在开发React应用时，我们会把控制显示的组件定义成无状态组件（Stateless Functional Component），然后在此基础上包装状态，控制逻辑。可以参考redux作者<a href="https://twitter.com/dan_abramov">Dan Abramov</a>的这篇文章<a href="https://medium.com/@dan_abramov/smart-and-dumb-components-7ca2f9a7c7d0">Presentational and Container Components</a>。</p>\n<p>我们先给<code class="language-text">Presentational</code>组件<code class="language-text">Counter</code>添加一些行为，可以增加和减少count。</p>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code class="language-jsx"><span class="token comment">// src/components/Counter.tsx</span>\n\n<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> React <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">\'./Counter.css\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">interface</span> <span class="token class-name">Props</span> <span class="token punctuation">{</span>\n  name<span class="token punctuation">:</span> string<span class="token punctuation">;</span>\n  count<span class="token operator">?</span><span class="token punctuation">:</span> number<span class="token punctuation">;</span>\n  onInc<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n  onDec<span class="token operator">?</span><span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">void</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">,</span> count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> onInc<span class="token punctuation">,</span> onDec <span class="token punctuation">}</span><span class="token punctuation">:</span> Props<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">"</span>counter<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>\n    Counter <span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>count<span class="token punctuation">}</span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onInc<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token operator">+</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>\n      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onDec<span class="token punctuation">}</span></span><span class="token punctuation">></span></span><span class="token operator">-</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<p>然后我们用<code class="language-text">react-redux</code>的<code class="language-text">connect</code>将<code class="language-text">redux</code>的状态等跟<code class="language-text">Counter</code>组件关联起来。<code class="language-text">connect</code>函数接受两个参数：</p>\n<ul>\n<li>mapState2Props： 将state跟props关联起来，redux的state变化的时候自动触发props更新导致组件重新渲染</li>\n<li>mapDispatch2Props： 将redux的dispatch传递给事件回调函数，用户触发redux的state更新</li>\n</ul>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code class="language-jsx"><span class="token comment">// src/containers/Counter.tsx</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> connect<span class="token punctuation">,</span> Dispatch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'react-redux\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> Counter <span class="token keyword">from</span> <span class="token string">\'../components/Counter\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> actions <span class="token keyword">from</span> <span class="token string">\'../actions\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> StoreState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'../types\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> <span class="token function-variable function">mapState2Props</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token punctuation">,</span> count <span class="token punctuation">}</span><span class="token punctuation">:</span> StoreState<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token punctuation">{</span>\n    name<span class="token punctuation">,</span>\n    count<span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> mapDispatch2Props <span class="token operator">=</span> <span class="token punctuation">(</span>dispatch<span class="token punctuation">:</span> Dispatch<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>actions.ActionCount</span><span class="token punctuation">></span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>\n  <span class="token keyword">return</span> <span class="token punctuation">{</span>\n    onInc<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">dispatch</span><span class="token punctuation">(</span>actions<span class="token punctuation">.</span><span class="token function">inc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    onDec<span class="token punctuation">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">dispatch</span><span class="token punctuation">(</span>actions<span class="token punctuation">.</span><span class="token function">dec</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\n<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">connect</span><span class="token punctuation">(</span>mapState2Props<span class="token punctuation">,</span> mapDispatch2Props<span class="token punctuation">)</span><span class="token punctuation">(</span>Counter<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<h2 id="store"><a href="#store" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Store</h2>\n<p>最后，我们在最上层组件（通常是在index.tsx里），初始化redux的store，然后传递下去。</p>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code class="language-jsx"><span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> React <span class="token keyword">from</span> <span class="token string">\'react\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> ReactDOM <span class="token keyword">from</span> <span class="token string">\'react-dom\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> createStore <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'redux\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> Provider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'react-redux\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token punctuation">{</span> StoreState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">\'./types\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> reducer <span class="token keyword">from</span> <span class="token string">\'./reducers\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> Hello <span class="token keyword">from</span> <span class="token string">\'./containers/Counter\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> registerServiceWorker <span class="token keyword">from</span> <span class="token string">\'./registerServiceWorker\'</span><span class="token punctuation">;</span>\n<span class="token keyword">import</span> <span class="token string">\'./index.css\'</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> store <span class="token operator">=</span> createStore<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>StoreState</span><span class="token punctuation">></span></span><span class="token punctuation">(</span>reducer<span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token punctuation">:</span> <span class="token string">\'counter1\'</span><span class="token punctuation">,</span> count<span class="token punctuation">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\nReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Provider</span> <span class="token attr-name">store</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>store<span class="token punctuation">}</span></span><span class="token punctuation">></span></span>\n    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>Hello</span> <span class="token punctuation">/></span></span>\n  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>Provider</span><span class="token punctuation">></span></span><span class="token punctuation">,</span>\n  document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">\'root\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n<span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token function">registerServiceWorker</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>\n      </div>\n<p>一切都搞定了。 最后，如果要部署上线的话， 请记得用<code class="language-text">yarn run build</code>打包压缩代码，然后部署<code class="language-text">build</code>目录下的文件即可。</p>\n<p>本文代码托管在<a href="https://github.com/magicly/ts-react-demo">https://github.com/magicly/ts-react-demo</a> ，随意使用~</p>\n<h1 id="refers"><a href="#refers" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Refers</h1>\n<ul>\n<li><a href="https://github.com/Microsoft/TypeScript-React-Starter">https://github.com/Microsoft/TypeScript-React-Starter</a></li>\n<li><a href="https://github.com/wmonk/create-react-app-typescript">https://github.com/wmonk/create-react-app-typescript</a></li>\n<li><a href="https://www.typescriptlang.org/docs/home.html">https://www.typescriptlang.org/docs/home.html</a></li>\n<li><a href="http://airbnb.io/enzyme/">http://airbnb.io/enzyme/</a></li>\n</ul>',
timeToRead:9,excerpt:"Javascript作为一门动态语言， 简单易学，容易上手，非常适合web开发（浏览器也只支持JS啊）。但是随着项目逐渐变大，动态语言的弊端慢慢显露出来，比如没有编译器检查，代码质量不容易保证，IDE支持有限， 不便于重构等等， 而且JS设计之初比较仓促遗留了很多问题，好在ES…",fields:{slug:"/ts-react-starter/"},frontmatter:{title:"TypeScript React入门",date:"2018-02-24",category:"FE",tags:["typescript","ts","react"]}}},{node:{html:'<p>最近做个app要接入一下微信sdk，按理说很简单的， 但是碰到很多坑， 记录一下。</p>\n<!-- more -->\n<p>APP是用RN做的， 自然想找一个封装好的RN微信，于是找到了<a href="https://github.com/yorkie/react-native-wechat">https://github.com/yorkie/react-native-wechat</a> ，这个还算是star多得， 有1000多个， 相比另外一个<a href="https://github.com/reactnativecn/react-native-wx">https://github.com/reactnativecn/react-native-wx</a> 貌似要活跃一些，用户也较多， 那就选react-native-wechat吧， 结果也已经7个多月没有更新过了，里面用的android的sdk都是两年多前的， 作者貌似都不知道现在用gradle了。自然也就不支持微信小程序分享。 后来看到有人提交了PR: <a href="https://github.com/yorkie/react-native-wechat/pull/324">https://github.com/yorkie/react-native-wechat/pull/324</a> ，更新了sdk，支持小程序， 不过作者貌似没有merge。 索性干脆直接依赖这个fork吧：<a href="https://github.com/LittoCats/react-native-wechat">https://github.com/LittoCats/react-native-wechat</a> .</p>\n<p>然后就是按照说明配置好依赖和appId等。 结果，死活分享不出去。后来能分享出去了， 但是卡死在调用哪里， 都已经用try/catch包起来了， 但是两条路都没有走。</p>\n<div class="gatsby-highlight">\n      <pre class="language-js"><code class="language-js">    <span class="token keyword">try</span> <span class="token punctuation">{</span>\n      <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> Wechat<span class="token punctuation">.</span><span class="token function">shareToTimeline</span><span class="token punctuation">(</span><span class="token punctuation">{</span>\n        type<span class="token punctuation">:</span> <span class="token string">\'text\'</span><span class="token punctuation">,</span>\n        description<span class="token punctuation">:</span> <span class="token string">\'hello, wechat\'</span><span class="token punctuation">,</span>\n      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">\'share text message to time line successful:\'</span><span class="token punctuation">,</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n      console<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>stack<span class="token punctuation">)</span><span class="token punctuation">;</span>\n    <span class="token punctuation">}</span></code></pre>\n      </div>\n<p>既不成功，也不失败。。。。。</p>\n<p>然后去看JS源码，看Java源码。最后发现是Java里面的回调就没有执行：</p>\n<div class="gatsby-highlight">\n      <pre class="language-java"><code class="language-java">\t<span class="token comment">// 第三方应用发送到微信的请求处理后的响应结果，会回调到该方法</span>\n\t<span class="token annotation punctuation">@Override</span>\n\t<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onResp</span><span class="token punctuation">(</span>BaseResp resp<span class="token punctuation">)</span> <span class="token punctuation">{</span>\n    <span class="token comment">// ...</span>\n  <span class="token punctuation">}</span></code></pre>\n      </div>\n<p>那应该就是包名或签名没有配置好了。 仔细检查没有问题啊， 也用微信提供的签名工具提取了签名。后来下载了微信的demo，一步一步调试和查资料尝试，过程花了两天， 懒得细说了，最后发现下面这些坑s：</p>\n<h2 id="微信平台审核过之后包名和签名可以修改么？"><a href="#%E5%BE%AE%E4%BF%A1%E5%B9%B3%E5%8F%B0%E5%AE%A1%E6%A0%B8%E8%BF%87%E4%B9%8B%E5%90%8E%E5%8C%85%E5%90%8D%E5%92%8C%E7%AD%BE%E5%90%8D%E5%8F%AF%E4%BB%A5%E4%BF%AE%E6%94%B9%E4%B9%88%EF%BC%9F" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>微信平台审核过之后包名和签名可以修改么？</h2>\n<p>可以。但是微信有缓存！！！要么卸载微信重装， 要么清楚微信数据， 记住是要从系统设置里面清除， 而不是从微信app里面清除！</p>\n<ul>\n<li><a href="http://ask.dcloud.net.cn/question/18354">http://ask.dcloud.net.cn/question/18354</a></li>\n<li><a href="http://blog.csdn.net/ZFY11/article/details/78216278">http://blog.csdn.net/ZFY11/article/details/78216278</a></li>\n</ul>\n<h2 id="微信后台配置的包名必须是manifest里面的package！！！"><a href="#%E5%BE%AE%E4%BF%A1%E5%90%8E%E5%8F%B0%E9%85%8D%E7%BD%AE%E7%9A%84%E5%8C%85%E5%90%8D%E5%BF%85%E9%A1%BB%E6%98%AFmanifest%E9%87%8C%E9%9D%A2%E7%9A%84package%EF%BC%81%EF%BC%81%EF%BC%81" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>微信后台配置的包名必须是manifest里面的package！！！</h2>\n<p>这个是最坑的。 因为RN默认生成的package和目录结构是<code class="language-text">com.xxx</code>，而我要取另外的包名，于是在<code class="language-text">app/build.gradle</code>文件里面改了<code class="language-text">applicationId</code>，以为可以了，结果不行！！！微信要的其实根本就不是APP的包名， 而是类的目录结构（也算是Java的包名吧。。。）！！！！\n至于manifest里的package和applicationId有什么区别，请看：</p>\n<ul>\n<li><a href="http://blog.csdn.net/qq1072313099/article/details/52872800">http://blog.csdn.net/qq1072313099/article/details/52872800</a></li>\n<li><a href="http://blog.csdn.net/u011889786/article/details/54296462">http://blog.csdn.net/u011889786/article/details/54296462</a></li>\n</ul>\n<p>跟同事分析， 微信sdk的工具机制应该是： 微信sdk里面注册了scheme，分享或登录后微信通过scheme通知微信sdk， 然后微信sdk根据“包名”找到我们的代码<code class="language-text">{package}.wxapi/WXEntryActivity.java</code>，然后执行里面的<code class="language-text">onResp()</code>回调函数。所以其实微信要的不是app的包名， 而是需要找到代码的位置！！！</p>\n<h2 id="微信分享sdk不支持分享多张图片"><a href="#%E5%BE%AE%E4%BF%A1%E5%88%86%E4%BA%ABsdk%E4%B8%8D%E6%94%AF%E6%8C%81%E5%88%86%E4%BA%AB%E5%A4%9A%E5%BC%A0%E5%9B%BE%E7%89%87" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>微信分享sdk不支持分享多张图片</h2>\n<p>这个用系统的分享接口反而支持！\n<a href="https://github.com/yorkie/react-native-wechat/issues/270">https://github.com/yorkie/react-native-wechat/issues/270</a></p>',timeToRead:2,excerpt:"最近做个app要接入一下微信sdk，按理说很简单的， 但是碰到很多坑， 记录一下。 APP是用RN做的， 自然想找一个封装好的RN微信，于是找到了 https://github.com/yorkie/react-native-wechat  ，这个还算是star多得， 有100…",fields:{slug:"/wechat-sdk/"},frontmatter:{title:"接入微信SDK的坑s",date:"2018-02-06",category:"FE",tags:["微信","Wechat","React Native","RN"]}}},{node:{html:'<p>最近做了一个小项目， 在微信里面根据用户选择的模板、用户微信头像、昵称、用户选择上传的照片合成一个图片，用户可以保存到手机上，然后发朋友圈。</p>\n<p>说复杂其实不复杂， 总结一下其中踩过的坑。</p>\n<!-- more -->\n<h1 id="用canvas合成照片"><a href="#%E7%94%A8canvas%E5%90%88%E6%88%90%E7%85%A7%E7%89%87" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>用Canvas合成照片</h1>\n<p>最开始是打算自己写Canvas，绘制照片、文字等， 最后调用canvas的<code class="language-text">toDataURI()</code>方法合成照片的。但是canvas上又不方便响应用户点击等操作，还得用dom写一遍， 感觉就有点重复了。 后来想起以前用过的<a href="https://github.com/niklasvh/html2canvas">html2canvas库</a>，果断用之，很方便。顺便还搜到几个其他的库，不过暂时没用过，先mark一下：</p>\n<ul>\n<li><a href="https://github.com/tsayen/dom-to-image">https://github.com/tsayen/dom-to-image</a></li>\n</ul>\n<p>这里有几篇blog介绍使用的，可以看看，当然官网文档永远是最权威的，适当的时候还需要看下源码。</p>\n<ul>\n<li><a href="https://segmentfault.com/a/1190000011478657">https://segmentfault.com/a/1190000011478657</a></li>\n<li><a href="https://www.jianshu.com/p/a99312eacf4f">https://www.jianshu.com/p/a99312eacf4f</a></li>\n<li><a href="https://www.h5jun.com/post/convert-code-to-image-via-html2canvas.html">https://www.h5jun.com/post/convert-code-to-image-via-html2canvas.html</a></li>\n</ul>\n<h1 id="retina屏幕下canvas模糊"><a href="#retina%E5%B1%8F%E5%B9%95%E4%B8%8Bcanvas%E6%A8%A1%E7%B3%8A" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Retina屏幕下canvas模糊</h1>\n<p>马上问题来了， retina屏幕下（mac pro、iphone6+）保存出来的图片是模糊的。这个主要是canvas宽高的单位跟css单位不一致，retina屏幕下用了4倍像素渲染造成的。需要了解CSS像素、物理像素、逻辑像素、PPI、devicePixelRatio等概念，可以参考下面几篇。</p>\n<ul>\n<li><a href="https://segmentfault.com/q/1010000002391424">https://segmentfault.com/q/1010000002391424</a></li>\n<li><a href="https://segmentfault.com/a/1190000003730246">https://segmentfault.com/a/1190000003730246</a></li>\n<li><a href="https://www.html5rocks.com/en/tutorials/canvas/hidpi/">https://www.html5rocks.com/en/tutorials/canvas/hidpi/</a></li>\n<li><a href="https://github.com/jondavidjohn/hidpi-canvas-polyfill">https://github.com/jondavidjohn/hidpi-canvas-polyfill</a></li>\n<li><a href="https://github.com/jawil/blog/issues/21">https://github.com/jawil/blog/issues/21</a></li>\n<li><a href="https://div.io/topic/1092">https://div.io/topic/1092</a></li>\n<li><a href="http://www.dengzhr.com/frontend/html/1050">http://www.dengzhr.com/frontend/html/1050</a></li>\n<li><a href="https://benweizhu.github.io/blog/2017/03/25/css-retina-image/">https://benweizhu.github.io/blog/2017/03/25/css-retina-image/</a></li>\n<li><a href="https://www.zhihu.com/question/21653056">https://www.zhihu.com/question/21653056</a></li>\n<li><a href="https://github.com/strues/retinajs">https://github.com/strues/retinajs</a></li>\n<li><a href="https://mutian.wang/tech/1386">https://mutian.wang/tech/1386</a></li>\n<li><a href="https://www.webdesignerdepot.com/2015/08/the-state-of-responsive-images/">https://www.webdesignerdepot.com/2015/08/the-state-of-responsive-images/</a></li>\n<li><a href="https://coderwall.com/p/vmkk6a/how-to-make-the-canvas-not-look-like-crap-on-retina">https://coderwall.com/p/vmkk6a/how-to-make-the-canvas-not-look-like-crap-on-retina</a></li>\n<li>*</li>\n</ul>\n<h2 id="弧形文字"><a href="#%E5%BC%A7%E5%BD%A2%E6%96%87%E5%AD%97" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>弧形文字</h2>\n<p>设计稿有一个模板里面文字是弧形的，用svg实现了：</p>\n<ul>\n<li><a href="https://www.w3cplus.com/css3/css-secrets/circular-text.html">https://www.w3cplus.com/css3/css-secrets/circular-text.html</a></li>\n</ul>\n<p>结果发现html2canvas没法保存svg。google之后发现html2canvas支持svg有问题：</p>\n<ul>\n<li><a href="https://github.com/niklasvh/html2canvas/issues/95">https://github.com/niklasvh/html2canvas/issues/95</a></li>\n<li><a href="https://github.com/niklasvh/html2canvas/issues/197">https://github.com/niklasvh/html2canvas/issues/197</a></li>\n<li><a href="https://github.com/niklasvh/html2canvas/issues/267">https://github.com/niklasvh/html2canvas/issues/267</a></li>\n</ul>\n<p>我用inline svg也是没法绘制出来的， 开启了<code class="language-text">foreignObject</code>选项，结果svg文字是可以保存了， 但是很多我不想要的内容也出来了。\n<a href="https://developer.mozilla.org/zh-CN/docs/Web/SVG/Element/foreignObject">foreignObject</a>这个不是很了解，以后再看吧。</p>\n<p>搜了一下，发现一些把svg转成canvas的库， 大概看了一下觉得没必要引入，还不如直接自己canvas画好了。这些库mark一下：</p>\n<ul>\n<li><a href="https://github.com/canvg/canvg">https://github.com/canvg/canvg</a></li>\n<li><a href="https://github.com/kangax/fabric.js/">https://github.com/kangax/fabric.js/</a></li>\n<li><a href="http://flashcanvas.net/">http://flashcanvas.net/</a></li>\n</ul>\n<p>没有解决，后来还是考虑自己用canvas画算了，参考下文：</p>\n<ul>\n<li><a href="https://segmentfault.com/a/1190000006258726">https://segmentfault.com/a/1190000006258726</a></li>\n</ul>\n<h2 id="canvas裁剪圆"><a href="#canvas%E8%A3%81%E5%89%AA%E5%9C%86" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>canvas裁剪圆</h2>\n<ul>\n<li><a href="https://www.kancloud.cn/dennis/canvas/340120">https://www.kancloud.cn/dennis/canvas/340120</a></li>\n</ul>\n<h2 id="canvas透明背景"><a href="#canvas%E9%80%8F%E6%98%8E%E8%83%8C%E6%99%AF" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>canvas透明背景</h2>\n<ul>\n<li><a href="http://www.dengzhr.com/frontend/html/1096">http://www.dengzhr.com/frontend/html/1096</a></li>\n</ul>\n<h2 id="iphone上竖屏拍摄图片旋转bug"><a href="#iphone%E4%B8%8A%E7%AB%96%E5%B1%8F%E6%8B%8D%E6%91%84%E5%9B%BE%E7%89%87%E6%97%8B%E8%BD%ACbug" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>iPhone上竖屏拍摄图片旋转bug</h2>\n<p>iphone和部分三星手机上竖屏拍摄图片会旋转， 需要用<a href=""></a>读取Orientation，来自己纠正。</p>\n<ul>\n<li><a href="https://www.jianshu.com/p/8afd55beca5a">https://www.jianshu.com/p/8afd55beca5a</a></li>\n<li><a href="https://www.bbsmax.com/A/VGzlMnYNJb/">https://www.bbsmax.com/A/VGzlMnYNJb/</a></li>\n<li><a href="https://github.com/exif-js/exif-js/">https://github.com/exif-js/exif-js/</a></li>\n<li><a href="https://segmentfault.com/a/1190000009990033">https://segmentfault.com/a/1190000009990033</a></li>\n<li><a href="https://aotu.io/notes/2017/05/25/canvas-img-rotate-and-flip/index.html">https://aotu.io/notes/2017/05/25/canvas-img-rotate-and-flip/index.html</a></li>\n</ul>\n<h2 id="轮播图"><a href="#%E8%BD%AE%E6%92%AD%E5%9B%BE" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>轮播图</h2>\n<p>轮播图太通用不过了，网上也有很多代码或者插件（很多jQuery的插件）实现。推荐两个：</p>\n<ul>\n<li><a href="https://github.com/kenwheeler/slick/">https://github.com/kenwheeler/slick/</a></li>\n<li><a href="https://github.com/nolimits4web/swiper/">https://github.com/nolimits4web/swiper/</a>\n两个功能几乎一样，不过slick需要jquery。\n当然，两个都有react的移植：</li>\n<li><a href="https://github.com/akiran/react-slick">https://github.com/akiran/react-slick</a></li>\n<li><a href="https://github.com/kidjp85/react-id-swiper">https://github.com/kidjp85/react-id-swiper</a>\n我最后用了react-id-swiper，可以根据自己需要选择。</li>\n</ul>\n<h2 id="图片裁剪"><a href="#%E5%9B%BE%E7%89%87%E8%A3%81%E5%89%AA" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>图片裁剪</h2>\n<p>html5里面有<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/FileReader">FileReader</a>特性， 可以在前端读取修改文件内容，再结合canvas，很容易就实现前端裁剪图片了。</p>\n<ul>\n<li><a href="https://segmentfault.com/a/1190000000754560">https://segmentfault.com/a/1190000000754560</a>\n结果看到有人说微信android版本，不支持长按保存base64方式的图片（canvas.toDataURI）的， 吓我一大跳，结果现在好像已经修复此bug了：</li>\n<li><a href="https://mzkmzk.gitbooks.io/web_accumulate/wei_xin_base64_tu_pian_bao_cun_shi_bai.html">https://mzkmzk.gitbooks.io/web<em>accumulate/wei</em>xin<em>base64</em>tu<em>pian</em>bao<em>cun</em>shi_bai.html</a></li>\n<li><a href="https://segmentfault.com/q/1010000007709767">https://segmentfault.com/q/1010000007709767</a></li>\n<li><a href="http://www.cnblogs.com/Travel/p/4624929.html">http://www.cnblogs.com/Travel/p/4624929.html</a></li>\n<li><a href="https://www.codecasts.com/blog/post/crop-image-local-using-html5-canvas">https://www.codecasts.com/blog/post/crop-image-local-using-html5-canvas</a></li>\n<li><a href="https://dailc.github.io/2017/11/16/imageclip_rotate_compress.html">https://dailc.github.io/2017/11/16/imageclip<em>rotate</em>compress.html</a></li>\n<li><a href="http://www.cnblogs.com/Travel/p/4624929.html">http://www.cnblogs.com/Travel/p/4624929.html</a></li>\n<li><a href="https://www.codecasts.com/blog/post/crop-image-local-using-html5-canvas">https://www.codecasts.com/blog/post/crop-image-local-using-html5-canvas</a></li>\n<li><a href="https://github.com/DominicTobias/react-image-crop">https://github.com/DominicTobias/react-image-crop</a></li>\n<li><a href="http://hpoenixf.com/%E4%B8%80%E4%B8%AA%E5%9F%BA%E4%BA%8Ereact%E7%9A%84%E5%9B%BE%E7%89%87%E8%A3%81%E5%89%AA%E7%BB%84%E4%BB%B6.html">http://hpoenixf.com/%E4%B8%80%E4%B8%AA%E5%9F%BA%E4%BA%8Ereact%E7%9A%84%E5%9B%BE%E7%89%87%E8%A3%81%E5%89%AA%E7%BB%84%E4%BB%B6.html</a></li>\n<li><a href="https://github.com/nitin42/react-imgpro">https://github.com/nitin42/react-imgpro</a></li>\n<li><a href="https://github.com/AlloyTeam/AlloyImage">https://github.com/AlloyTeam/AlloyImage</a></li>\n<li><a href="https://github.com/AlloyTeam/AlloyFinger">https://github.com/AlloyTeam/AlloyFinger</a></li>\n<li><a href="https://github.com/AlloyTeam/AlloyCrop">https://github.com/AlloyTeam/AlloyCrop</a></li>\n<li><a href="https://github.com/AlloyTeam/AlloyTouch/wiki">https://github.com/AlloyTeam/AlloyTouch/wiki</a></li>\n</ul>\n<h2 id="读取图片每个像素点的rgb"><a href="#%E8%AF%BB%E5%8F%96%E5%9B%BE%E7%89%87%E6%AF%8F%E4%B8%AA%E5%83%8F%E7%B4%A0%E7%82%B9%E7%9A%84rgb" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>读取图片每个像素点的RGB</h2>\n<ul>\n<li><a href="https://zhidao.baidu.com/question/752983355955636524.html">https://zhidao.baidu.com/question/752983355955636524.html</a></li>\n<li><a href="http://js8.in/2013/01/02/html5-canvas-%E5%9B%BE%E7%89%87%E5%83%8F%E7%B4%A0/">http://js8.in/2013/01/02/html5-canvas-%E5%9B%BE%E7%89%87%E5%83%8F%E7%B4%A0/</a></li>\n<li><a href="https://segmentfault.com/a/1190000004084956">https://segmentfault.com/a/1190000004084956</a></li>\n<li><a href="http://yijiebuyi.com/blog/58bcb7af4a0e3846d02d10def9fdeecc.html">http://yijiebuyi.com/blog/58bcb7af4a0e3846d02d10def9fdeecc.html</a></li>\n<li><a href="http://www.cnblogs.com/zichi/p/html5-file-api.html">http://www.cnblogs.com/zichi/p/html5-file-api.html</a></li>\n<li><a href="https://www.xiabingbao.com/html5/2015/05/20/html5-filereader-natural.html">https://www.xiabingbao.com/html5/2015/05/20/html5-filereader-natural.html</a></li>\n</ul>\n<h2 id="滑动到屏幕底部"><a href="#%E6%BB%91%E5%8A%A8%E5%88%B0%E5%B1%8F%E5%B9%95%E5%BA%95%E9%83%A8" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>滑动到屏幕底部</h2>\n<p>需要了解viewport、clientHeight、offsetHeight、scrollHeight、scrollTop等概念。</p>\n<ul>\n<li><a href="http://www.cnblogs.com/w-wanglei/p/5863240.html">http://www.cnblogs.com/w-wanglei/p/5863240.html</a></li>\n<li><a href="http://imweb.io/topic/57c5409e808fd2fb204eef52">http://imweb.io/topic/57c5409e808fd2fb204eef52</a></li>\n<li><a href="https://www.jianshu.com/p/d267456ebc0d">https://www.jianshu.com/p/d267456ebc0d</a></li>\n<li><a href="https://exp-team.github.io/blog/2017/02/25/js/infinite-scroll/">https://exp-team.github.io/blog/2017/02/25/js/infinite-scroll/</a></li>\n<li><a href="https://stackoverflow.com/questions/22675126/what-is-offsetheight-clientheight-scrollheight">https://stackoverflow.com/questions/22675126/what-is-offsetheight-clientheight-scrollheight</a></li>\n<li><a href="https://cauu.github.io/2017/04/React-infinite-scroll-list/">https://cauu.github.io/2017/04/React-infinite-scroll-list/</a></li>\n<li><a href="https://www.jianshu.com/p/97f5cbc66577">https://www.jianshu.com/p/97f5cbc66577</a></li>\n</ul>\n<h2 id="reactrouter-v4在非组件页面使用history"><a href="#reactrouter-v4%E5%9C%A8%E9%9D%9E%E7%BB%84%E4%BB%B6%E9%A1%B5%E9%9D%A2%E4%BD%BF%E7%94%A8history" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>ReactRouter v4在非组件页面使用history</h2>\n<ul>\n<li><a href="https://github.com/brickspert/blog/issues/3">https://github.com/brickspert/blog/issues/3</a></li>\n</ul>\n<h2 id="react高阶组件"><a href="#react%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>React高阶组件</h2>\n<p>最后用React高阶组件把各个模板重构了一下。\n<a href="https://reactjs.org/docs/higher-order-components.html">https://reactjs.org/docs/higher-order-components.html</a></p>\n<blockquote>\n<p>Concretely, a higher-order component is a function that takes a component and returns a new component.</p>\n</blockquote>\n<p>注意，高阶组件是一个<code class="language-text">function</code>，而不是component， 所以你只能<code class="language-text">hoc(config)(ComponentA)</code>这样调用， 而不能<code class="language-text">&lt;Hoc config={config} component={ComponentA} /&gt;</code>这样调用， 因为调用过一次之后，返回的已经是React.Elements了。具体可以看<a href="https://reactjs.org/blog/2015/12/18/react-components-elements-and-instances.html">https://reactjs.org/blog/2015/12/18/react-components-elements-and-instances.html</a></p>\n<ul>\n<li><a href="https://reactjs.org/docs/higher-order-components.html">https://reactjs.org/docs/higher-order-components.html</a></li>\n<li><a href="https://segmentfault.com/a/1190000004598113">https://segmentfault.com/a/1190000004598113</a></li>\n<li><a href="https://medium.com/@franleplant/react-higher-order-components-in-depth-cf9032ee6c3e">https://medium.com/@franleplant/react-higher-order-components-in-depth-cf9032ee6c3e</a></li>\n<li><a href="https://github.com/acdlite/recompose">https://github.com/acdlite/recompose</a></li>\n</ul>\n<p>高阶组件概念来自于函数式编程里面的高阶函数，如果不熟悉函数式编程， 可以看看下面的资料：</p>\n<ul>\n<li><a href="https://github.com/MostlyAdequate/mostly-adequate-guide">https://github.com/MostlyAdequate/mostly-adequate-guide</a></li>\n<li><a href="https://github.com/llh911001/mostly-adequate-guide-chinese">https://github.com/llh911001/mostly-adequate-guide-chinese</a></li>\n<li><a href="http://eloquentjavascript.net/05_higher_order.html">http://eloquentjavascript.net/05<em>higher</em>order.html</a></li>\n<li><a href="https://github.com/stoeffel/awesome-fp-js">https://github.com/stoeffel/awesome-fp-js</a></li>\n<li><a href="https://github.com/lodash/lodash/wiki/FP-Guide">https://github.com/lodash/lodash/wiki/FP-Guide</a></li>\n<li><a href="http://ramdajs.com/">http://ramdajs.com/</a></li>\n<li><a href="https://github.com/ramda/ramda-fantasy">https://github.com/ramda/ramda-fantasy</a></li>\n<li><a href="https://medium.freecodecamp.org/functional-programming-in-js-with-practical-examples-part-1-87c2b0dbc276">https://medium.freecodecamp.org/functional-programming-in-js-with-practical-examples-part-1-87c2b0dbc276</a></li>\n</ul>\n<h2 id="react-16"><a href="#react-16" aria-hidden="true" class="anchor"><svg aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>React 16</h2>\n<p>在开发的过程中发现如下代码：</p>\n<div class="gatsby-highlight">\n      <pre class="language-jsx"><code class="language-jsx"><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n<span class="token keyword">this</span><span class="token punctuation">.</span>a <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span>\n<span class="token operator">...</span>\n<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>\n  <span class="token operator">...</span>\n<span class="token punctuation">}</span></code></pre>\n      </div>\n<p>居然<code class="language-text">render()</code>在<code class="language-text">this.a += 1</code>之前执行？！！！跟setState函数是异步调用的说法不一致啊， 不知道是不是React16Fiber带来的特性， 抽空得好好研究下React16了。</p>',timeToRead:10,excerpt:"最近做了一个小项目， 在微信里面根据用户选择的模板、用户微信头像、昵称、用户选择上传的照片合成一个图片，用户可以保存到手机上，然后发朋友圈。 说复杂其实不复杂， 总结一下其中踩过的坑。 用Canvas合成照片 最开始是打算自己写Canvas…",fields:{slug:"/canvas-webapp/"},frontmatter:{title:"照片合成webapp项目总结",date:"2018-01-29",category:"FE",tags:["React","canvas","svg","html2canvas","HOC"]}}}]}},pathContext:{current:2,skip:10,total:6}}}});
//# sourceMappingURL=path---page-2-5c050c041dd6dd51352a.js.map